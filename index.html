<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Secrets Cockpit</title><meta name="description" content="Your Secrets Cockpit - the UI which gives you control over your secrets. Sync them - delete them - store them on another server."><link rel="manifest" href="manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#000000"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,abbr,acronym,address,article,aside,b,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,nav,object,ol,p,pre,q,samp,section,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-size:100%;font:inherit;vertical-align:baseline}body{line-height:1;color:#ca70ab;background-color:#000;text-align:center;font-family:"SourceSans Pro",sans-serif;font-size:12pt;height:100%;width:100%;overflow:hidden}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a:hover,ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}a{transition:.2s ease-in-out;color:inherit;text-decoration:none}ul{margin:0}b,strong{font-weight:700}i{font-style:italic}button,button:hover,input:focus,input[type=checkcbox]:focus,input[type=submit]:hover,select:focus,textarea:focus{background:0 0;border:0;padding:0;outline:0;line-height:normal;overflow:visible}@font-face{font-family:"SourceSans Pro";src:url(/font/SourceSansPro-Regular.ttf)}h1{font-size:24pt;padding:20pt 20pt 7pt;user-select:none}h2{font-size:18pt;padding:15pt 20pt 7pt;user-select:none}p{font-size:14pt;padding:10pt 20pt 7pt;user-select:none}#floating-id-line,#unsafe-id-line,input{text-overflow:ellipsis;padding:7px;box-sizing:border-box;font-size:12pt;color:#ca70ab;background-color:#000;border:none;width:100%;text-align:center;margin-top:7px}input:focus{padding:7px;background-color:#000}svg{pointer-events:none}.content{margin:auto;width:100%;padding-left:15px;padding-right:15px;box-sizing:border-box}@media screen and (min-width:930px){.content{width:900px;padding-left:0;padding-right:0}}#addalias-popup h2,#addsecret-popup h2,#addsubspace-popup h2{padding-top:0}#addalias-popup p,#addsecret-popup p,#addsubspace-popup input{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px}#addsubspace-popup{overflow:hidden;max-height:513px}#easy-add-options-container{padding:7px 0;overflow:hidden;overflow-y:auto;max-height:400px}#hidden-alias-template{display:none}.alias{padding:20px 10px;background-color:rgba(0,0,0,.8);border:2px solid #ca70ab;margin-bottom:12px;border-radius:7px}.alias .alias-id{overflow:hidden;text-overflow:ellipsis}.alias .alias-label{background-color:rgba(66,96,96,.7);padding:7px}#aliaspage-content{padding-bottom:40px}#add-alias-button-line{overflow:hidden;display:flex;justify-content:space-around;padding-bottom:top-bottom-container-padding;max-width:120px;margin:auto}#add-alias-button-line svg{width:40px;height:40px}.click-button{cursor:pointer;position:relative;display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button::after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;border-radius:12px;display:inline-block;transform:scaleX(1.2) scaleY(1.2);opacity:0;transition:opacity .3s,transform .3s;background:#fff}.click-button:active::after{transform:scaleX(0) scaleY(0);opacity:.8;transition:opacity,transform}.click-button:disabled{color:#888;background-color:#eee;filter:grayscale(100%)}#hidden-clients-display-template,.click-button:disabled::after{display:none}#clientsdisplay{padding:30px 10px;overflow:hidden}#alias-page-button{margin-top:15px;padding:20px;border-radius:30px;background-color:#ca70ab;color:#000}.clients-display{padding:20px;border:2px solid #ca70ab;border-radius:30px;display:flex;align-content:center;cursor:pointer;margin-bottom:15px;overflow:hidden;box-sizing:border-box;width:100%}.clients-display .clients-id-display{width:calc(100% - 33px);overflow:hidden;text-overflow:ellipsis;pointer-events:none}.clients-display .clients-type-display{margin-left:10px;pointer-events:none}.clients-display .clients-type-display svg{width:20px;height:20px}.selected{background-color:#ca70ab;color:#000}.floating-type,.unsafe-type{display:none}.floating .floating-type,.unsafe .unsafe-type{display:block}#content{height:100%;width:100%;padding:53px 15px;box-sizing:border-box;overflow-y:auto}#content.overlayed{opacity:.2}#deletesecret-popup h2,#deletesubspace-popup h2,#editsecret-popup h2{padding-top:0}#deletesecret-popup p,#editsecret-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px}#deletesubspace-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px;overflow:hidden;text-overflow:ellipsis}#floatinginputpage-content input{margin-top:0}#floatinginputpage-content h2{margin-top:5px;margin-bottom:5px}#floatinginputpage-content p{background-color:rgba(0,0,0,.8);padding:30px 10px;margin-top:150px}#floating-id-line{background-color:rgba(0,0,0,.2);overflow:hidden}#footer{background-color:rgba(66,96,96,.7);padding:7px 14px;position:fixed;bottom:0;left:0;width:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:flex-end;align-items:center}#footer .click-button{border-radius:20%;margin-left:20px}#github-button,#telegram-button{width:37px;height:37px}#header{background-color:rgba(66,96,96,.7);padding:7px 14px;position:fixed;top:0;left:0;width:100%;box-sizing:border-box;display:flex;flex-direction:row;justify-content:space-between;align-items:center}#header .click-button{border-radius:20%}#header-right{margin-left:auto}#settings-button{width:37px;height:37px}#inputchoicesection{margin-bottom:50px}#input-button-container{margin-top:40px;display:flex;justify-content:space-around}#input-button-container svg{height:50px;width:50px;padding:20px}#input-button-container .click-button{border:2px solid #ca70ab;color:#ca70ab;border-radius:20px}#messagebox{padding:12px;box-sizing:border-box;width:80%;background-color:rgba(66,96,96,.7);border-radius:10px 10px 0 0;position:fixed;bottom:0;left:10%;transition:.5s;z-index:555;word-wrap:break-word}#messagebox.gone{transform:translateY(50px);opacity:0}#messagebox.error{background-color:red;color:#000;font-weight:700}.popupframe{position:absolute;top:0;left:0;z-index:199;height:100%;width:100%;transform:translateY(-102%)}.popupframe.active{transform:translateY(0)}.click-catcher{position:absolute;height:100%;width:100%;background-color:rgba(255,255,255,.3)}.popup{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-height:600px;background-color:#000;border-radius:7px;padding:37px 20px 50px;box-sizing:border-box}.popup-cancel-button{position:absolute;top:0;right:0;height:33px;width:33px;background-color:#000;border-radius:7px}.popup-cancel-button svg{height:33px;width:33px}.popup-accept-button{position:absolute;bottom:5px;right:5px;border-radius:7px;border:2px solid #ca70ab}.popup-accept-button .click-button{padding:10px;text-transform:uppercase}#qrdisplay-background{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;transform:translateY(-102%);background-color:rgba(66,96,96,.7)}#qrdisplay-content{padding:10px;background-color:#000;word-break:break-all}#qrdisplay-qr{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:40px;background-color:#fff}#qrdisplay-background.active{transform:translateY(0)}#qrreader-background{position:absolute;top:0;left:0;z-index:299;height:100%;width:100%;transform:translateY(-102%);background-color:rgba(66,96,96,.7)}#qrreader-background video{position:absolute;width:100%;height:100%;top:0;left:0}#qrreader-background.active{transform:translateY(0)}#removeclient-popup h2{padding-top:0}#removeclient-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px;overflow:hidden;text-overflow:ellipsis}#secretspacedisplay{width:100%;height:800px}#hidden-secret-template,#hidden-subspace-template{display:none}#secretspacepage-content{overflow:hidden;box-sizing:border-box}#secrets-container{border-top:2px solid #ca70ab;padding:50px 10px 21px;margin-top:15px}.secret{background-color:rgba(0,0,0,.8);border:2px solid #ca70ab;margin-bottom:7px;border-radius:7px}.secret svg{width:20px;height:20px}.secret .click-button{padding:7px}.secret .secret-id{overflow:hidden;text-overflow:ellipsis}.secret .secret-button-line{display:flex;justify-content:space-around;max-width:260px;margin:auto}#add-secret-button-line{overflow:hidden;display:flex;justify-content:space-around;padding-bottom:50px;max-width:120px;margin:auto}#add-secret-button-line svg{width:30px;height:30px}#foreign-subspaces{border-top:2px solid #ca70ab}#foreign-subspaces .subspace{display:flex;align-items:center;justify-content:space-between;margin-bottom:7px}#foreign-subspaces .subspace svg{width:25px;height:25px}#foreign-subspaces .subspace-id{background-color:rgba(0,0,0,.8);border:2px solid #ca70ab;border-right:none;border-radius:7px 0 0 7px;width:calc(100% - 60px);box-sizing:border-box;overflow:hidden;text-overflow:ellipsis}#foreign-subspaces .click-button{padding:12px}#subspaces-container{padding:50px 10px 21px}#add-subspace-button-line{overflow:hidden;display:flex;justify-content:space-around;padding-bottom:50px;max-width:120px;margin:auto}#add-subspace-button-line svg{width:30px;height:30px}#secretspacepage-alias{padding:7px;background-color:rgba(66,96,96,.7);box-sizing:border-box;overflow:hidden;min-width:40px}#id-section,#secret-key-section{background-color:rgba(0,0,0,.8);padding:12px}#id-line,#secret-key-line{padding-bottom:12px;overflow:hidden;text-overflow:ellipsis}#id-handle-line,#secret-key-handle-line{display:flex;max-width:320px;justify-content:space-around;align-items:center;margin:auto}#id-handle-line .click-button,#secret-key-handle-line .click-button{padding:7px}#id-handle-line .click-button svg,#secret-key-handle-line .click-button svg{width:25px;height:25px}#copy-id-button{margin-left:auto}#secret-key-handle-type-display{margin-right:auto}#secret-key-handle-type-display svg{width:50px;height:50px;margin-bottom:5px}#remove-client-line{margin-top:15px}#remove-client-button svg{width:40px;height:40px}#copy-secret-key-button.click-button,#qr-for-secret-key-button.click-button,#secret-key-handle-floating-icon,#secret-key-handle-floating-label,#secret-key-handle-unsafe-icon,#secret-key-handle-unsafe-label{display:none}.floating #secret-key-handle-floating-icon,.floating #secret-key-handle-floating-label,.unsafe #copy-secret-key-button.click-button,.unsafe #qr-for-secret-key-button.click-button,.unsafe #secret-key-handle-unsafe-icon,.unsafe #secret-key-handle-unsafe-label{display:block}#settingspage-content{padding-bottom:40px}#settingspage-content h2{margin-top:9px;margin-bottom:4px}#settingspage-content input[type=checkbox]{appearance:none;outline:0;padding:0;margin:0;width:15px;height:15px;background-color:#000;border:2px solid #ca70ab;transition:.3s;cursor:pointer;vertical-align:middle}#settingspage-content input[type=checkbox]:checked{background:#ca70ab}#settingspage-content label{font-size:12pt;margin-left:30px;margin-right:5px;vertical-align:middle}.settings-subsection{background-color:#000;padding:10px}.settings-subsection .subsection-line{padding:5px}#sharesecret-popup{overflow:hidden;max-height:513px}#sharesecret-popup h2{padding-top:0}#sharesecret-popup input,#sharesecret-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px}#sharesecret-options-container{padding:7px 0;overflow:hidden;overflow-y:auto;max-height:300px}.slideinframe.active{transform:translateX(0)}.slideinframe{padding:53px 0;box-sizing:border-box;display:flex;flex-direction:column;background-color:rgba(66,96,96,.7);position:fixed;z-index:99;top:0;left:0;height:100%;width:100%;transform:translateX(-102%);transition:transform .4s}.slideinframe .accept-icon,.slideinframe .back-icon{display:block;margin-left:auto;height:37px;width:37px}.slideinframe .slideinframe-back-button{background-color:#000;position:absolute;padding:8px 14px;top:0;width:100%;box-sizing:border-box;cursor:pointer}.slideinframe .slideinframe-accept-button{background-color:#000;position:absolute;bottom:0;width:100%;padding:8px 14px;box-sizing:border-box;cursor:pointer}.slideinframe-content{overflow-y:auto}#storeid-popup h2,#storesecret-popup h2,#storeunsafe-popup h2{padding-top:0}#storeid-popup p,#storeunsafe-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px;overflow:hidden;text-overflow:ellipsis}#storesecret-popup p{background-color:rgba(66,96,96,.7);padding:5px;box-sizing:border-box;margin-bottom:3px}#subspacepage-content{overflow:hidden;box-sizing:border-box}#shared-secrets-container{padding:50px 10px 21px}#shared-secrets-container .delete-secret-button,#shared-secrets-container .edit-secret-button,#shared-secrets-container .share-secret-button{display:none}#shared-secrets-container .secret-button-line{max-width:80px}#secretspacepage-details{border-top:2px solid #ca70ab;padding:10px 10px 50px}#shared-from-id-section,#shared-to-id-section{background-color:rgba(0,0,0,.8);padding:12px}#shared-from-id-section svg,#shared-to-id-section svg{width:25px;height:25px}#shared-from-id-section .click-button,#shared-to-id-section .click-button{padding:7px}#shared-from-id-line,#shared-to-id-line{padding-bottom:12px;overflow:hidden;text-overflow:ellipsis}#shared-from-id-handle-line,#shared-to-id-handle-line{display:flex;justify-content:space-around;align-items:center;max-width:320px;margin:auto}#copy-shared-from-id-button,#copy-shared-to-id-button{margin-left:auto}#svgicon-symbols{display:none}#svgicon-definitions{position:absolute;height:0;width:0;bottom:0;right:0}#unsafeinputpage-content input{margin-top:0}#unsafeinputpage-content h2{margin-top:5px;margin-bottom:5px}#unsafeinputpage-content p{background-color:rgba(0,0,0,.8);padding:30px 10px;margin-top:150px}#unsafe-id-line{background-color:rgba(0,0,0,.2);overflow:hidden}#unsafe-input-button-container{display:flex;justify-content:space-around;max-width:260px;margin:30px auto auto}#unsafe-input-button-container svg{height:50px;width:50px;padding:20px}</style></head><body><svg id="svgicon-definitions"><defs><filter id="svg-dropshadow-filter" height="130%" width="130%"><fegaussianblur in="SourceGraphic" stddeviation="3" result="blurOut"></fegaussianblur><feColorMatrix in="blurOut" type="saturate" values="0.25" result="shadowOut"></feColorMatrix><feblend in="SourceGraphic" in2="shadowOut" mode="normal"></feblend></filter></defs></svg> <svg id="svgicon-symbols"><symbol id="svg-settings-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17.25,12C17.25,12.23 17.23,12.46 17.2,12.68L18.68,13.84C18.81,13.95 18.85,14.13 18.76,14.29L17.36,16.71C17.27,16.86 17.09,16.92 16.93,16.86L15.19,16.16C14.83,16.44 14.43,16.67 14,16.85L13.75,18.7C13.72,18.87 13.57,19 13.4,19H10.6C10.43,19 10.28,18.87 10.25,18.7L10,16.85C9.56,16.67 9.17,16.44 8.81,16.16L7.07,16.86C6.91,16.92 6.73,16.86 6.64,16.71L5.24,14.29C5.15,14.13 5.19,13.95 5.32,13.84L6.8,12.68C6.77,12.46 6.75,12.23 6.75,12C6.75,11.77 6.77,11.54 6.8,11.32L5.32,10.16C5.19,10.05 5.15,9.86 5.24,9.71L6.64,7.29C6.73,7.13 6.91,7.07 7.07,7.13L8.81,7.84C9.17,7.56 9.56,7.32 10,7.15L10.25,5.29C10.28,5.13 10.43,5 10.6,5H13.4C13.57,5 13.72,5.13 13.75,5.29L14,7.15C14.43,7.32 14.83,7.56 15.19,7.84L16.93,7.13C17.09,7.07 17.27,7.13 17.36,7.29L18.76,9.71C18.85,9.86 18.81,10.05 18.68,10.16L17.2,11.32C17.23,11.54 17.25,11.77 17.25,12M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M12,10C10.89,10 10,10.89 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,10.89 13.1,10 12,10Z"></path></symbol><symbol id="svg-github-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-cross-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M19,3H16.3H7.7H5A2,2 0 0,0 3,5V7.7V16.4V19A2,2 0 0,0 5,21H7.7H16.4H19A2,2 0 0,0 21,19V16.3V7.7V5A2,2 0 0,0 19,3M15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12L17,15.6L15.6,17Z"></path></symbol><symbol id="svg-check-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-add-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-copy-icon" preserveAspectRatio="xMidYMid meet" viewBox="-21 0 512 512"><path fill="currentColor" d="m325.332031 512h-266.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-288c0-32.363281 26.304688-58.664062 58.667969-58.664062h10.664062c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-10.664062c-14.699219 0-26.667969 11.964843-26.667969 26.664062v288c0 14.699219 11.96875 26.667969 26.667969 26.667969h266.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-10.664062c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v10.664062c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"></path><path fill="currentColor" d="m410.667969 384h-224c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.664062c0-32.363281 26.304688-58.667969 58.667969-58.667969h224c32.363281 0 58.664062 26.304688 58.664062 58.667969v266.664062c0 32.363281-26.300781 58.667969-58.664062 58.667969zm-224-352c-14.699219 0-26.667969 11.96875-26.667969 26.667969v266.664062c0 14.699219 11.96875 26.667969 26.667969 26.667969h224c14.699219 0 26.664062-11.96875 26.664062-26.667969v-266.664062c0-14.699219-11.964843-26.667969-26.664062-26.667969zm0 0"></path></symbol><symbol id="svg-trash-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M9,8H11V17H9V8M13,8H15V17H13V8Z"></path></symbol><symbol id="svg-telegram-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9.78,18.65L10.06,14.42L17.74,7.5C18.08,7.19 17.67,7.04 17.22,7.31L7.74,13.3L3.64,12C2.76,11.75 2.75,11.14 3.84,10.7L19.81,4.54C20.54,4.21 21.24,4.72 20.96,5.84L18.24,18.65C18.05,19.56 17.5,19.78 16.74,19.36L12.6,16.3L10.61,18.23C10.38,18.46 10.19,18.65 9.78,18.65Z"></path></symbol><symbol id="svg-code-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z"></path></symbol><symbol id="svg-text-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M6,11A2,2 0 0,1 8,13V17H4A2,2 0 0,1 2,15V13A2,2 0 0,1 4,11H6M4,13V15H6V13H4M20,13V15H22V17H20A2,2 0 0,1 18,15V13A2,2 0 0,1 20,11H22V13H20M12,7V11H14A2,2 0 0,1 16,13V15A2,2 0 0,1 14,17H12A2,2 0 0,1 10,15V7H12M12,15H14V13H12V15Z"></path></symbol><symbol id="svg-qrscan-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4,4H10V10H4V4M20,4V10H14V4H20M14,15H16V13H14V11H16V13H18V11H20V13H18V15H20V18H18V20H16V18H13V20H11V16H14V15M16,15V18H18V15H16M4,20V14H10V20H4M6,6V8H8V6H6M16,6V8H18V6H16M6,16V18H8V16H6M4,11H6V13H4V11M9,11H13V15H11V13H9V11M11,6H13V10H11V6M2,2V6H0V2A2,2 0 0,1 2,0H6V2H2M22,0A2,2 0 0,1 24,2V6H22V2H18V0H22M2,18V22H6V24H2A2,2 0 0,1 0,22V18H2M22,22V18H24V22A2,2 0 0,1 22,24H18V22H22Z"></path></symbol><symbol id="svg-qrcode-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"></path></symbol><symbol id="svg-edit-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M5,3C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19H5V5H12V3H5M17.78,4C17.61,4 17.43,4.07 17.3,4.2L16.08,5.41L18.58,7.91L19.8,6.7C20.06,6.44 20.06,6 19.8,5.75L18.25,4.2C18.12,4.07 17.95,4 17.78,4M15.37,6.12L8,13.5V16H10.5L17.87,8.62L15.37,6.12Z"></path></symbol><symbol id="svg-store-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M22 17C22.5 17 23 17.5 23 18V22C23 22.5 22.5 23 22 23H17C16.5 23 16 22.5 16 22V18C16 17.5 16.5 17 17 17V15.5C17 14.1 18.1 13 19.5 13C20.9 13 22 14.1 22 15.5V17M21 17V15.5C21 14.7 20.3 14 19.5 14C18.7 14 18 14.7 18 15.5V17H21M19.36 9.03C21.95 9.22 24 11.36 24 14L23.94 14.77C23.59 12.63 21.74 11 19.5 11C17 11 15 13 15 15.5L15 15.76C14.39 16.31 14 17.11 14 18V19H6C2.69 19 0 16.31 0 13C0 9.9 2.34 7.36 5.35 7.04C6.6 4.64 9.11 3 12 3C15.64 3 18.67 5.59 19.36 9.03Z"></path></symbol><symbol id="svg-share-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M21,12L14,5V9C7,10 4,15 3,20C5.5,16.5 9,14.9 14,14.9V19L21,12Z"></path></symbol></svg><div id="header"><div class="click-button" id="header-right"><svg id="settings-button"><use href="#svg-settings-icon"></use></svg></div></div><div id="content"><div class="content" id="inputchoicesection"><div id="input-button-container"><div class="click-button" id="input-unsafe-button"><svg><use href="#svg-text-icon"></use></svg></div><div class="click-button" id="input-floating-button"><svg><use href="#svg-code-icon"></use></svg></div></div></div><div id="clientsdisplay"><div id="hidden-clients-display-template"><div class="clients-display click-button content {{type}}" list-index="{{index}}"><div class="clients-id-display">{{label}}</div><div class="clients-type-display"><svg class="unsafe-type"><use href="#svg-text-icon"></use></svg> <svg class="floating-type"><use href="#svg-code-icon"></use></svg></div></div></div><div id="clients-display-container"></div><div class="click-button" id="alias-page-button">Aliases</div></div></div><div id="footer"><a class="click-button" href="https://t.me/SecretsCockpitUI"><svg id="telegram-button"><use href="#svg-telegram-icon"></use></svg></a><a class="click-button" href="https://github.com/JhonnyJason/secret-cockpit"><svg id="github-button"><use href="#svg-github-icon"></use></svg></a></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="settingspage-content"><h1>Settings</h1><h2>Secret Manager Service</h2><input id="secret-manager-input"><h2>Data Manager Service</h2><input id="data-manager-input"><h2>Key Types having permission to Store Unsafe Keys</h2><div class="settings-subsection"><div class="subsection-line"><label>Unsafe Key</label> <input id="store-in-unsafe-input" type="checkbox" value="protected"></div><div class="subsection-line"><label>Floating Key</label> <input id="store-in-floating-input" type="checkbox" value="protected"></div></div><h2>Floating Key - Keylogger Protection</h2><div class="settings-subsection"><div class="subsection-line"><label for="keylogger-protection-input">Protect</label> <input id="keylogger-protection-input" type="checkbox" value="protected"></div></div><h2>Store Unsafe Keys in LocalStorage</h2><div class="settings-subsection"><div class="subsection-line"><label for="store-unsafe-input">Store</label> <input id="store-unsafe-input" type="checkbox" value="protected"></div></div><h2>Autodetect Unsafe Keys</h2><div class="settings-subsection"><div class="subsection-line"><label for="autodetect-unsafe-input">Autodetect</label> <input id="autodetect-unsafe-input" type="checkbox" value="protected"></div></div><h2>Key Identifying Ending</h2><input id="identifying-ending-input"></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="unsafeinputpage-content"><h2>Unsafe Key Input</h2><input id="unsafe-key-input" value="0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef"><h2>Corresponding ID</h2><div id="unsafe-id-line"></div><div id="unsafe-input-button-container"><div class="click-button" id="scan-qr-button"><svg><use href="#svg-qrscan-icon"></use></svg></div><div class="click-button" id="create-unsafe-button"><svg><use href="#svg-add-icon"></use></svg></div></div><p>Unsafe Keys are called "unsafe" because they are stored on your device. This means they can be used conveniently also you may easily export and import them by copy-pasting or by using QR-codes.</p></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="floatinginputpage-content"><h2>Floating Key Input</h2><input id="floating-key-input" type="password"><h2>Corresponding ID</h2><div id="floating-id-line"></div><p>This is for keys generated from a strong seedphrase which never shall be saved anywhere. Because of this the only way is to type the seedphrase here and everywhere all over again :-).</p></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="hidden-secret-template"><div class="secret" secret-id="{{secretId}}"><p class="secret-id">{{secretId}}</p><div class="secret-button-line"><div class="delete-secret-button click-button"><svg><use href="#svg-trash-icon"></use></svg></div><div class="edit-secret-button click-button"><svg><use href="#svg-edit-icon"></use></svg></div><div class="copy-secret-button click-button"><svg><use href="#svg-copy-icon"></use></svg></div><div class="store-secret-button click-button"><svg><use href="#svg-store-icon"></use></svg></div><div class="share-secret-button click-button"><svg><use href="#svg-share-icon"></use></svg></div></div></div></div><div id="hidden-subspace-template"><div class="subspace" subspace-id="{{subspaceId}}"><div class="subspace-id click-button">{{subspaceLabel}}</div><div class="delete-subspace-button click-button"><svg><use href="#svg-trash-icon"></use></svg></div></div></div><div id="secretspacepage-content"><h1>Secrets Space</h1><div id="secrets-container"></div><div id="add-secret-button-line"><div class="click-button" id="add-secret-button"><svg><use href="#svg-add-icon"></use></svg></div></div><div id="foreign-subspaces"><h2>Foreign Subspaces</h2><div id="subspaces-container"></div><div id="add-subspace-button-line"><div class="click-button" id="add-subspace-button"><svg><use href="#svg-add-icon"></use></svg></div></div></div><div id="secretspacepage-details"><h2>Id</h2><div id="id-section"><div id="id-line"></div><div id="id-handle-line"><div id="secretspacepage-alias" contenteditable></div><div class="click-button" id="copy-id-button"><svg><use href="#svg-copy-icon"></use></svg></div><div class="click-button" id="qr-for-id-button"><svg><use href="#svg-qrcode-icon"></use></svg></div><div class="click-button" id="store-id-button"><svg><use href="#svg-store-icon"></use></svg></div></div></div><h2>Secret Key</h2><div id="secret-key-section"><div id="secret-key-line"></div><div id="secret-key-handle-line"><div id="secret-key-handle-type-display"><div id="secret-key-handle-unsafe-icon"><svg><use href="#svg-text-icon"></use></svg></div><div id="secret-key-handle-floating-icon"><svg><use href="#svg-code-icon"></use></svg></div><div id="secret-key-handle-unsafe-label">unsafe</div><div id="secret-key-handle-floating-label">floating</div></div><div class="click-button" id="copy-secret-key-button"><svg><use href="#svg-copy-icon"></use></svg></div><div class="click-button" id="qr-for-secret-key-button"><svg><use href="#svg-qrcode-icon"></use></svg></div><div class="click-button" id="store-secret-key-button"><svg><use href="#svg-store-icon"></use></svg></div></div></div><div id="remove-client-line"><div class="click-button" id="remove-client-button"><svg><use href="#svg-trash-icon"></use></svg></div></div></div></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="subspacepage-content"><h1>Foreign Subspace</h1><div id="shared-secrets-container"></div><div id="subspace-from-details"><h2>Shared From</h2><div id="shared-from-id-section"><div id="shared-from-id-line"></div><div id="shared-from-id-handle-line"><div id="shared-from-alias"></div><div class="click-button" id="copy-shared-from-id-button"><svg><use href="#svg-copy-icon"></use></svg></div><div class="click-button" id="qr-for-shared-from-id-button"><svg><use href="#svg-qrcode-icon"></use></svg></div></div></div></div><div id="subspacepage-to-details"><h2>Shared To</h2><div id="shared-to-id-section"><div id="shared-to-id-line"></div><div id="shared-to-id-handle-line"><div id="shared-to-alias"></div><div class="click-button" id="copy-shared-to-id-button"><svg><use href="#svg-copy-icon"></use></svg></div><div class="click-button" id="qr-for-shared-to-id-button"><svg><use href="#svg-qrcode-icon"></use></svg></div></div></div></div></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="slideinframe"><div class="slideinframe-back-button"><svg class="back-icon"><use href="#svg-cross-icon"></use></svg></div><div class="slideinframe-content content"><div id="hidden-alias-template"><div class="alias" alias-id="{{id}}"><p class="alias-id">{{id}}</p><p class="alias-label" contenteditable>{{alias}}</p></div></div><div id="aliaspage-content"><h1>Aliases For Ids</h1><div id="alias-container"></div><div id="add-alias-button-line"><div class="click-button" id="add-alias-button"><svg><use href="#svg-add-icon"></use></svg></div></div></div></div><div class="slideinframe-accept-button"><svg class="accept-icon"><use href="#svg-check-icon"></use></svg></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="editsecret-popup"><h2>Edit Secret</h2><p id="edit-secret-id-line" contenteditable>secretId</p><p id="edit-secret-line" contenteditable>secret</p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="addsecret-popup"><h2>Add Secret</h2><p id="add-secret-id-line" contenteditable></p><p id="add-secret-line" contenteditable></p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="deletesecret-popup"><h2>Really delete this Secret?</h2><p id="delete-secret-id-line"></p><p id="delete-secret-line"></p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="addsubspace-popup"><h2>Which Id shall have permissions to share secrets?</h2><input id="addsubspace-id"><div id="easy-add-options-container"></div></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="deletesubspace-popup"><h2>Really stop accepting secrets from this Id?</h2><p id="deletesubspace-id"></p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="storesecret-popup"><h2>Store Secret having Id</h2><p id="storesecret-id-line"></p><h2>Using Id</h2><p id="storesecret-as-line" contenteditable></p><h2>In</h2><div id="storesecret-options-container"></div></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="storeunsafe-popup"><h2>Store Unsafe SecretKey with the ID</h2><p id="storeunsafe-id-line"></p><h2>By the Name</h2><p id="storeunsafe-as-line" contenteditable></p><h2>In</h2><div id="storeunsafe-options-container"></div></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="sharesecret-popup"><h2>Share Secret having ID</h2><p id="sharesecret-id-line"></p><h2>To</h2><input id="sharesecret-to-id-line"><div id="sharesecret-options-container"></div></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="removeclient-popup"><h2>Really remove this client?</h2><p id="client-to-remove-id"></p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="storeid-popup"><h2>Store ID</h2><p id="storeid-line"></p><h2>By the Name</h2><p id="storeid-as-line" contenteditable></p><h2>In</h2><div id="storeid-options-container"></div></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div class="popupframe"><div class="click-catcher"></div><div class="popup"><div class="popup-cancel-button"><div class="click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div id="addalias-popup"><h2>Add Alias</h2><p id="add-alias-id-line" contenteditable></p><p id="add-alias-line" contenteditable></p></div><div class="popup-accept-button"><div class="click-button">Go!</div></div></div></div><div id="qrdisplay-background"><div id="qrdisplay-content"></div><div id="qrdisplay-qr"></div></div><div id="qrreader-background"><video id="qrreader-video-element"></video></div><div class="gone" id="messagebox"></div><script>/*! For license information please see index.js.LICENSE.txt */
(()=>{var e,t,n={9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=l(e),a=o[0],s=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(e,t,n)=>{"use strict";var r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||z(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(i)return r?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return D(F(t,e.length-n),e,n,r)}function S(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return D(N(t),e,n,r)}function B(e,t,n,r){return D(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(K(o,Uint8Array))i+o.length>r.length?l.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function U(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q[e[o]];return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,o){return t=+t,n>>>=0,o||_(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return t=+t,n>>>=0,o||_(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:l.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var P=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!=e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},645:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},466:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test;var a=/\S/;function s(e){return!function(e,t){return o.call(e,t)}(a,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var u=/\s*/,c=/\s+/,d=/\s*=/,f=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,r,o,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,l,u,c=this,d=!1;c;){if(e.indexOf(".")>0)for(s=c.view,l=e.split("."),u=0;null!=s&&u<l.length;)u===l.length-1&&(d=i(s,l[u])||(r=s,o=l[u],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),s=s[l[u++]];else s=c.view[e],d=i(c.view,e);if(d){t=s;break}c=c.parent}a[e]=t}return n(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(e,n){var i=this.templateCache,o=e+":"+(n||m.tags).join(":"),a=void 0!==i,l=a?i.get(o):void 0;return null==l&&(l=function(e,n){if(!e)return[];var i,o,a,l=!1,g=[],y=[],v=[],w=!1,b=!1,E="",S=0;function x(){if(w&&!b)for(;v.length;)delete y[v.pop()];else v=[];w=!1,b=!1}function B(e){if("string"==typeof e&&(e=e.split(c,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),a=new RegExp("\\s*"+r("}"+e[1]))}B(n||m.tags);for(var C,I,A,L,T,U,k=new h(e);!k.eos();){if(C=k.pos,A=k.scanUntil(i))for(var O=0,M=A.length;O<M;++O)s(L=A.charAt(O))?(v.push(y.length),E+=L):(b=!0,l=!0,E+=" "),y.push(["text",L,C,C+1]),C+=1,"\n"===L&&(x(),E="",S=0,l=!1);if(!k.scan(i))break;if(w=!0,I=k.scan(p)||"name",k.scan(u),"="===I?(A=k.scanUntil(d),k.scan(d),k.scanUntil(o)):"{"===I?(A=k.scanUntil(a),k.scan(f),k.scanUntil(o),I="&"):A=k.scanUntil(o),!k.scan(o))throw new Error("Unclosed tag at "+k.pos);if(T=">"==I?[I,A,C,k.pos,E,S,l]:[I,A,C,k.pos],S++,y.push(T),"#"===I||"^"===I)g.push(T);else if("/"===I){if(!(U=g.pop()))throw new Error('Unopened section "'+A+'" at '+C);if(U[1]!==A)throw new Error('Unclosed section "'+U[1]+'" at '+C)}else"name"===I||"{"===I||"&"===I?b=!0:"="===I&&B(A)}if(x(),U=g.pop())throw new Error('Unclosed section "'+U[1]+'" at '+k.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(y))}(e,n),a&&i.set(o,l)),l},y.prototype.render=function(e,t,n,r){var i=this.parse(e,r),o=t instanceof g?t:new g(t,void 0);return this.renderTokens(i,o,n,e,r)},y.prototype.renderTokens=function(e,t,n,r,i){for(var o,a,s,l="",u=0,c=e.length;u<c;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,t,n,r):"^"===a?s=this.renderInverted(o,t,n,r):">"===a?s=this.renderPartial(o,t,n,i):"&"===a?s=this.unescapedValue(o,t):"name"===a?s=this.escapedValue(o,t):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},y.prototype.renderSection=function(e,r,i,o){var a=this,s="",l=r.lookup(e[1]);if(l){if(t(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(e[4],r.push(l[u]),i,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],r.push(l),i,o);else if(n(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(e[3],e[5]),(function(e){return a.render(e,r,i)})))&&(s+=l)}else s+=this.renderTokens(e[4],r,i,o);return s}},y.prototype.renderInverted=function(e,n,r,i){var o=n.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],n,r,i)},y.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},y.prototype.renderPartial=function(e,t,r,i){if(r){var o=n(r)?r(e[1]):r[e[1]];if(null!=o){var a=e[6],s=e[5],l=e[4],u=o;return 0==s&&l&&(u=this.indentPartial(o,l,a)),this.renderTokens(this.parse(u,i),t,r,u,i)}}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return m.escape(n)},y.prototype.rawValue=function(e){return e[1]};var m={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){v.templateCache=e},get templateCache(){return v.templateCache}},v=new y;return m.clearCache=function(){return v.clearCache()},m.parse=function(e,t){return v.parse(e,t)},m.render=function(e,n,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return v.render(e,n,r,i)},m.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},m.Scanner=h,m.Context=g,m.Writer=y,m}()},3710:(e,t,n)=>{"use strict";e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.verify=t.sign=t.getPublicKey=t.SignResult=t.Signature=t.Point=t.ExtendedPoint=t.CURVE=void 0;const r={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};t.CURVE=r;const i=32,o=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=25063068953384623474111414158702152701244531502492656460079210482610430750235n,s=54469307008909316920995813868745141605393597292927456921205312896311721017578n,l=1159843021668779879193775521855586647937357759715417654439879720876111806838n,u=40440834346308536858101042469323190826248399146238708352240133220865137265952n;class c{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof f))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(f.ZERO)?c.ZERO:new c(e.x,e.y,1n,S(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=r.P){const n=e.length,i=new Array(n);let o=1n;for(let r=0;r<n;r++)0n!==e[r]&&(i[r]=o,o=S(o*e[r],t));o=x(o,t);for(let r=n-1;r>=0;r--){if(0n===e[r])continue;let n=S(o*e[r],t);e[r]=S(o*i[r],t),o=n}return e}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){const t=E(e.slice(0,i)),n=this.calcElligatorRistrettoMap(t),r=E(e.slice(i,64)),o=this.calcElligatorRistrettoMap(r);return n.add(o)}static calcElligatorRistrettoMap(e){const{d:t}=r,n=S(o*e*e),i=S((n+1n)*l);let s=-1n;const d=S((s-t*n)*S(n+t));let{isValid:f,value:p}=C(i,d),h=S(p*e);v(h)||(h=S(-h)),f||(p=h),f||(s=n);const g=S(s*(n-1n)*u-d),y=p*p,m=S((p+p)*d),w=S(g*a),b=S(1n-y),E=S(1n+y);return new c(S(m*E),S(b*w),S(w*E),S(m*b))}static fromRistrettoBytes(e){const{a:t,d:n}=r,o="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",a=E(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m(a,i),e)||v(a))throw new Error(o);const s=S(a*a),l=S(1n+t*s),u=S(1n-t*s),d=S(l*l),f=S(u*u),p=S(t*n*d-f),{isValid:h,value:g}=I(S(p*f)),y=S(g*u),w=S(g*y*p);let b=S((a+a)*y);v(b)&&(b=S(-b));const x=S(l*w),B=S(b*x);if(!h||v(B)||0n===x)throw new Error(o);return new c(b,x,1n,B)}toRistrettoBytes(){let{x:e,y:t,z:n,t:r}=this;const a=S((n+t)*(n-t)),l=S(e*t),{value:u}=I(S(a*l**2n)),c=S(u*a),d=S(u*l),f=S(c*d*r);let p;v(r*f)?([e,t]=[S(t*o),S(e*o)],p=S(c*s)):p=d,v(e*f)&&(t=S(-t));let h=S((n-t)*p);return v(h)&&(h=S(-h)),m(h,i)}equals(e){const t=e,[n,r,i,o]=[this.t,t.t,this.z,t.z];return S(n*o)===S(r*i)}negate(){return new c(S(-this.x),this.y,this.z,S(-this.t))}double(){const e=this.x,t=this.y,n=this.z,{a:i}=r,o=S(e**2n),a=S(t**2n),s=S(2n*n**2n),l=S(i*o),u=S((e+t)**2n-o-a),d=S(l+a),f=S(d-s),p=S(l-a),h=S(u*f),g=S(d*p),y=S(u*p),m=S(f*d);return new c(h,g,m,y)}add(e){const t=this.x,n=this.y,r=this.z,i=this.t,o=e.x,a=e.y,s=e.z,l=e.t,u=S((n-t)*(a+o)),d=S((n+t)*(a-o)),f=S(d-u);if(0n===f)return this.double();const p=S(2n*r*l),h=S(2n*i*s),g=S(h+p),y=S(d+u),m=S(h-p),v=S(g*f),w=S(y*m),b=S(g*m),E=S(f*y);return new c(v,w,E,b)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!w(e))throw new TypeError("Point#multiply: expected number or bigint");let t=S(BigInt(e),r.n);if(1n===t)return this;let n=c.ZERO,i=this;for(;t>0n;)1n&t&&(n=n.add(i)),i=i.double(),t>>=1n;return n}precomputeWindow(e){const t=256/e+1;let n=[],r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(c.BASE)&&(t=f.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&d.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=c.normalizeZ(r),d.set(t,r)));let i=c.ZERO,o=c.ZERO;const a=256/n+1,s=2**(n-1),l=BigInt(2**n-1),u=2**n,p=BigInt(n);for(let t=0;t<a;t++){const n=t*s;let a=Number(e&l);if(e>>=p,a>s&&(a-=u,e+=1n),0===a)o=o.add(t%2?r[n].negate():r[n]);else{const e=r[n+Math.abs(a)-1];i=i.add(a<0?e.negate():e)}}return[i,o]}multiply(e,t){if(!w(e))throw new TypeError("Point#multiply: expected number or bigint");const n=S(BigInt(e),r.n);return c.normalizeZ(this.wNAF(n,t))[0]}toAffine(e=x(this.z)){const t=S(this.x*e),n=S(this.y*e);return new f(t,n)}}t.ExtendedPoint=c,c.BASE=new c(r.Gx,r.Gy,1n,S(r.Gx*r.Gy)),c.ZERO=new c(0n,1n,1n,0n);const d=new WeakMap;class f{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,d.delete(this)}static fromHex(e){const{d:t,P:n}=r,i=e instanceof Uint8Array?e:g(e);if(32!==i.length)throw new Error("Point.fromHex: expected 32 bytes");const o=i[31],a=-129&o,s=0!=(128&o),l=b(Uint8Array.from(Array.from(i.slice(0,31)).concat(a)));if(l>=n)throw new Error("Point.fromHex expects hex <= Fp");const u=S(l*l),c=S(u-1n),d=S(t*u+1n);let{isValid:p,value:h}=C(c,d);if(!p)throw new Error("Point.fromHex: invalid y coordinate");return s!==(1n===(1n&h))&&(h=S(-h)),new f(h,l)}static async fromPrivateKey(e){const n=await t.utils.sha512(U(e));return f.BASE.multiply(L(n))}toRawBytes(){const e=y(this.y),t=new Uint8Array(i);for(let n=e.length-2,r=0;r<i&&n>=0;n-=2,r++)t[r]=Number.parseInt(e[n]+e[n+1],16);const n=1n&this.x?128:0;return t[31]|=n,t}toHex(){return h(this.toRawBytes())}toX25519(){return S((1n+this.y)*x(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new f(S(-this.x),this.y)}add(e){return c.fromAffine(this).add(c.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return c.fromAffine(this).multiply(e,this).toAffine()}}t.Point=f,f.BASE=new f(r.Gx,r.Gy),f.ZERO=new f(0n,1n);class p{constructor(e,t){this.r=e,this.s=t}static fromHex(e){e=T(e);const t=f.fromHex(e.slice(0,32)),n=b(e.slice(32));if(!(0<(i=n)&&i<r.n))throw new Error("Signature.fromHex expects s <= CURVE.n");var i;return new p(t,n)}toRawBytes(){const e=g(y(this.s)).reverse(),t=new Uint8Array(i);t.set(e);const n=new Uint8Array(64);return n.set(this.r.toRawBytes()),n.set(t,32),n}toHex(){return h(this.toRawBytes())}}function h(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function g(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=Number.parseInt(e.slice(r,r+2),16)}return t}function y(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function m(e,t=32){return g(y(e).padStart(2*t,"0")).reverse()}function v(e){return 1n===(1n&S(e))}function w(e){return"bigint"==typeof e&&e>0n||!!("number"==typeof e&&e>0&&Number.isSafeInteger(e))}function b(e){let t=0n;for(let n=0;n<e.length;n++)t+=BigInt(e[n])<<8n*BigInt(n);return t}function E(e){return S(b(e)&2n**255n-1n)}function S(e,t=r.P){const n=e%t;return n>=0n?n:t+n}function x(e,t=r.P){if(0n===e||t<=0n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=S(e,t),i=t,[o,a,s,l]=[0n,1n,1n,0n];for(;0n!==n;){const e=i/n,t=i%n,r=o-s*e,u=a-l*e;[i,n]=[n,t],[o,a]=[s,l],[s,l]=[r,u]}if(1n!==i)throw new Error("invert: does not exist");return S(o,t)}function B(e,t){const{P:n}=r;let i=e;for(;t-- >0n;)i*=i,i%=n;return i}function C(e,t){const n=S(t*t*t),i=S(n*n*t);let a=S(e*n*function(e){const{P:t}=r,n=e*e%t*e%t,i=B(n,2n)*n%t,o=B(i,1n)*e%t,a=B(o,5n)*o%t,s=B(a,10n)*a%t,l=B(s,20n)*s%t,u=B(l,40n)*l%t,c=B(u,80n)*u%t,d=B(c,80n)*u%t,f=B(d,10n)*a%t;return B(f,2n)*e%t}(e*i));const s=S(t*a*a),l=a,u=S(a*o),c=s===e,d=s===S(-e),f=s===S(-e*o);return c&&(a=l),(d||f)&&(a=u),v(a)&&(a=S(-a)),{isValid:c||d,value:a}}function I(e){return C(1n,e)}async function A(...e){const n=function(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}(...e);return S(b(await t.utils.sha512(n)),r.n)}function L(e){const t=e.slice(0,i);return t[0]&=248,t[31]&=127,t[31]|=64,S(b(t),r.n)}function T(e){return e instanceof Uint8Array?e:g(e)}function U(e){let t;if("bigint"==typeof e||"number"==typeof e&&Number.isSafeInteger(e)){if(t=BigInt(e),t<0n||t>2n**256n)throw new Error("Expected 32 bytes of private key");e=t.toString(16).padStart(64,"0")}if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");return g(e)}if(e instanceof Uint8Array){if(32!==e.length)throw new Error("Expected 32 bytes of private key");return e}throw new TypeError("Expected valid private key")}t.Signature=p,t.SignResult=p,t.getPublicKey=async function(e){const t=await f.fromPrivateKey(e);return"string"==typeof e?t.toHex():t.toRawBytes()},t.sign=async function(e,n){const o=await t.utils.sha512(U(n)),a=L(o),s=f.BASE.multiply(a),l=T(e),u=await A((c=o,c.slice(i)),l);var c;const d=f.BASE.multiply(u),h=S(u+await A(d.toRawBytes(),s.toRawBytes(),l)*a,r.n),g=new p(d,h);return"string"==typeof e?g.toHex():g.toRawBytes()},t.verify=async function(e,t,n){t=T(t),n instanceof f||(n=f.fromHex(n)),e instanceof p||(e=p.fromHex(e));const r=await A(e.r.toRawBytes(),n.toRawBytes(),t),i=c.fromAffine(n).multiplyUnsafe(r),o=c.BASE.multiply(e.s);return c.fromAffine(e.r).add(i).subtract(o).multiplyUnsafe(8n).equals(c.ZERO)},f.BASE._setWindowSize(8);const k=(()=>{const t="object"==typeof self&&"crypto"in self?self.crypto:void 0,n="function"==typeof e.require&&e.require.bind(e);return{node:n&&!t?n("crypto"):void 0,web:t}})();t.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomBytes:(e=32)=>{if(k.web)return k.web.getRandomValues(new Uint8Array(e));if(k.node){const{randomBytes:t}=k.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>{let e=1024;for(;e--;){const e=t.utils.randomBytes(32),n=b(e);if(n>1n&&n<r.n)return e}throw new Error("Valid private key was not found in 1024 iterations. PRNG is broken")},sha512:async e=>{if(k.web){const t=await k.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(k.node)return Uint8Array.from(k.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=f.BASE){const n=t.equals(f.BASE)?t:new f(t.x,t.y);return n._setWindowSize(e),n.multiply(1n),n}}},3300:(e,t)=>{"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},9509:(e,t,n)=>{var r=n(8764),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},5517:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m,v,w,b,E;o={},g=n(3710),E=n(1600),y=n(2999),m=n(7241),p=n(4579),Object.assign(p,m),t=class{constructor(e,t,n){this.secretKeyHex=e,this.publicKeyHex=t,this.serverURL=n,this.ready=i(this)}updateServerURL(e){return this.serverURL=e,this.ready=i(this)}async getSecretSpace(){var e;return await this.ready,e=await f(this),await s(e,this.secretKeyHex)}async getSecret(e){var t;return await this.ready,t=await d(e,this),await s(t,this.secretKeyHex)}async getSecretFrom(e,t){var n;return await this.ready,e=t+"."+e,n=await d(e,this),await s(n,this.secretKeyHex)}async setSecret(e,t){return await this.ready,t=await c(t,this.publicKeyHex),await v(e,t,this)}async deleteSecret(e){return await this.ready,await l(e,this)}async acceptSecretsFrom(e){return await this.ready,await r(e,this)}async stopAcceptSecretsFrom(e){return await this.ready,await b(e,this)}async shareSecretTo(e,t,n){return await this.ready,n=await c(n,e),await w(e,t,n,this)}async deleteSharedSecret(e,t){return await this.ready,await u(e,t,this)}},h=g.utils.randomPrivateKey,s=async function(e,t){e=await y.asymetricDecrypt(e,t),e=y.removeSalt(e);try{e=JSON.parse(e)}catch(t){return e}if(null!=e.encryptedContent){e=await y.asymetricDecrypt(e,t),e=y.removeSalt(e);try{e=JSON.parse(e)}catch(t){return e}}return e},c=async function(e,t){return"object"==typeof e&&(e=JSON.stringify(e)),e=y.createRandomLengthSalt()+e,e=await y.asymetricEncrypt(e,t),JSON.stringify(e)},a=async function(e,t,n){var r;return r=t+JSON.stringify(e),await y.createSignature(r,n)},i=async function(e){var t,n,r,i,o;return i=e.serverURL,n=e.publicKeyHex,r=e.secretKeyHex,t={publicKey:n,timestamp:""},o=await a(t,"/addNodeId",r),await p.addNodeId(i,n,"",o)},f=async function(e){var t,n,r,i,o;return i=e.serverURL,n=e.publicKeyHex,r=e.secretKeyHex,t={publicKey:n,timestamp:""},o=await a(t,"/getSecretSpace",r),await p.getSecretSpace(i,n,"",o)},d=async function(e,t){var n,r,i,o,s;return o=t.serverURL,r=t.publicKeyHex,i=t.secretKeyHex,n={publicKey:r,secretId:e,timestamp:""},s=await a(n,"/getSecret",i),await p.getSecret(o,r,e,"",s)},v=async function(e,t,n){var r,i,o,s,l;return s=n.serverURL,i=n.publicKeyHex,o=n.secretKeyHex,r={publicKey:i,secretId:e,secret:t,timestamp:""},l=await a(r,"/setSecret",o),await p.setSecret(s,i,e,t,"",l)},l=async function(e,t){var n,r,i,o,s;return o=t.serverURL,r=t.publicKeyHex,i=t.secretKeyHex,n={publicKey:r,secretId:e,timestamp:""},s=await a(n,"/deleteSecret",i),await p.deleteSecret(o,r,e,"",s)},r=async function(e,t){var n,r,i,o,s;return o=t.serverURL,r=t.publicKeyHex,i=t.secretKeyHex,n={publicKey:r,fromId:e,timestamp:""},s=await a(n,"/startAcceptingSecretsFrom",i),await p.startAcceptingSecretsFrom(o,r,e,"",s)},b=async function(e,t){var n,r,i,o,s;return o=t.serverURL,r=t.publicKeyHex,i=t.secretKeyHex,n={publicKey:r,fromId:e,timestamp:""},s=await a(n,"/stopAcceptingSecretsFrom",i),await p.stopAcceptingSecretsFrom(o,r,e,"",s)},w=async function(e,t,n,r){var i,o,s,l,u;return l=r.serverURL,o=r.publicKeyHex,s=r.secretKeyHex,i={publicKey:o,shareToId:e,secretId:t,secret:n,timestamp:""},u=await a(i,"/shareSecretTo",s),await p.shareSecretTo(l,o,e,t,n,"",u)},u=async function(e,t,n){var r,i,o,s,l;return s=n.serverURL,i=n.publicKeyHex,o=n.secretKeyHex,r={publicKey:i,sharedToId:e,secretId:t,timestamp:""},l=await a(r,"/deleteSharedSecret",o),await p.deleteSharedSecret(s,i,e,t,"",l)},o.createClient=async function(e,n,r){return e||(e=E.bytesToHex(h()),n=await g.getPublicKey(e)),n||(n=await g.getPublicKey(e)),new t(e,n,r)},e.exports=o}).call(this)},7627:function(e,t,n){(function(){var e;Object.defineProperty(t,"__esModule",{value:!0}),e=n(5517),Object.assign(t,e)}).call(this)},4579:function(e,t,n){(function(){var t;t="object"==typeof window?n(408):n(7236),e.exports=t}).call(this)},408:function(e){(function(){var t;(t={}).postData=async function(e,t){var n,r;if(n={method:"POST",credentials:"omit",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},403===(r=await fetch(e,n)).status)throw new Error("Unauthorized!");return r.json()},t.getData=async function(e){var t;if(403===(t=await fetch(e)).status)throw new Error("Unauthorized!");return t.json()},e.exports=t}).call(this)},7236:function(e,t,n){(function(){var t,r;r={},t=n(3300).default,r.postData=async function(e,n){var r,i;if(r={method:"POST",credentials:"omit",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},403===(i=await t(e,r)).status)throw new Error("Unauthorized!");return i.json()},r.getData=async function(e){var n;if(403===(n=await t(e)).status)throw new Error("Unauthorized!");return n.json()},e.exports=r}).call(this)},5852:function(e,t,n){(function(){var t,r,i,o,a,s;i={},a=n(3710),s=n(7815),r=window.crypto.subtle,o=function(e){var t;return(t=new Uint8Array(e.slice(0,32)))[0]&=248,t[31]&=127,t[31]|=64,s.bytesToBigInt(t.buffer)},t=async function(e){var t;return t=s.hexToBytes(e),await r.importKey("raw",t,{name:"AES-CBC"},!1,["decrypt","encrypt"])},i.sha256Hex=async function(e){var t,n;return t="string"==typeof e?s.utf8ToBytes(e):e,n=await r.digest("SHA-256",t),s.bytesToHex(n)},i.sha512Hex=async function(e){var t,n;return t="string"==typeof e?s.utf8ToBytes(e):e,n=await r.digest("SHA-512",t),s.bytesToHex(n)},i.sha256Bytes=async function(e){var t;return t="string"==typeof e?s.utf8ToBytes(e):e,await r.digest("SHA-256",t)},i.sha512Bytes=async function(e){var t;return t="string"==typeof e?s.utf8ToBytes(e):e,await r.digest("SHA-512",t)},i.createRandomLengthSalt=function(){var e,t,n,r;for(e=new Uint8Array(512);;)for(window.crypto.getRandomValues(e),t=n=0,r=e.length;n<r;t=++n)if(0===e[t])return s.bufferToUtf8(e.slice(0,t+1))},i.removeSalt=function(e){var t,n,r;for(t=n=0,r=e.length;n<r;t=++n)if("\0"===e[t])return e.slice(t+1);throw new Error("No Salt termination found!")},i.asymetricEncrypt=async function(e,t){var n,r,i,l,u,c,d,f;return r=a.Point.fromHex(t),u=a.utils.randomPrivateKey(),d=s.bytesToHex(u),c=await this.sha512Bytes(u),l=o(c),n=await a.getPublicKey(d),i=await r.multiply(l),f=await this.sha512Hex(i.toHex()),{referencePoint:n,encryptedContent:await this.symetricEncryptHex(e,f)}},i.asymetricDecrypt=async function(e,t){var n,r,i,l,u,c,d,f;if(null==e.referencePoint||null==e.encryptedContent)throw new Error("unexpected secrets format!");return i=s.hexToBytes(t),l=await this.sha512Bytes(i),d=o(l),r=e.referencePoint,n=a.Point.fromHex(r),c=await n.multiply(d),f=await this.sha512Hex(c.toHex()),u=e.encryptedContent,await this.symetricDecryptHex(u,f)},i.symetricEncryptHex=async function(e,n){var i,o,a,l,u,c,d;return c=n.substring(0,32),i=n.substring(32,96),u=s.hexToBytes(c),a=s.utf8ToBuffer(e),d=await t(i),o={name:"AES-CBC",iv:u},l=await r.encrypt(o,d,a),s.bytesToHex(l)},i.symetricDecryptHex=async function(e,n){var i,o,a,l,u,c,d;return c=n.substring(0,32),i=n.substring(32,96),u=s.hexToBytes(c),l=s.hexToBytes(e),d=await t(i),o={name:"AES-CBC",iv:u},a=await r.decrypt(o,d,l),s.bufferToUtf8(a)},i.createSignature=async function(e,t){var n;return n=await this.sha256Hex(e),await a.sign(n,t)},i.verify=async function(e,t,n){var r;return r=this.sha256Hex(n),await a.verify(e,r,t)},e.exports=i}).call(this)},7688:function(e,t,n){(function(){var t,r,i,o,a,s,l,u;i={},a=n(3710),u=n(7815),r=n(3707),t="aes-256-cbc",o=function(e){var t;return(t=e.slice(0,32))[0]&=248,t[31]&=127,t[31]|=64,u.bytesToBigInt(t)},s=function(e){var t;return(t=r.createHash("sha256")).update(e),t.digest()},l=function(e){var t;return(t=r.createHash("sha512")).update(e),t.digest()},i.sha256Hex=function(e){return u.bytesToHex(s(e))},i.sha512Hex=function(e){return u.bytesToHex(l(e))},i.sha256Bytes=s,i.sha512Bytes=l,i.createRandomLengthSalt=function(){for(var e,t,n,i;;)for(t=n=0,i=(e=r.randomBytes(512)).length;n<i;t=++n)if(0===e[t])return e.slice(0,t+1).toString("utf8")},i.removeSalt=function(e){var t,n,r;for(t=n=0,r=e.length;n<r;t=++n)if("\0"===e[t])return e.slice(t+1);throw new Error("No Salt termination found!")},i.asymetricEncrypt=async function(e,t){var n,r,i,s,c,d,f;return r=a.Point.fromHex(t),c=a.utils.randomPrivateKey(),d=u.bytesToHex(c),s=o(l(c)),n=await a.getPublicKey(d),i=await r.multiply(s),f=this.sha512Hex(i.toHex()),{referencePoint:n,encryptedContent:this.symetricEncryptHex(e,f)}},i.asymetricDecrypt=async function(e,t){var n,r,i,s,c,d,f;if(null==e.referencePoint||null==e.encryptedContent)throw new Error("unexpected secrets format!");return i=u.hexToBytes(t),d=o(l(i)),r=e.referencePoint,n=a.Point.fromHex(r),c=await n.multiply(d),f=this.sha512Hex(c.toHex()),s=e.encryptedContent,this.symetricDecryptHex(s,f)},i.symetricEncryptHex=function(e,n){var i,o,a,s,l;return l=n.substring(0,32),s=Buffer.from(l,"hex"),o=n.substring(32,96),i=Buffer.from(o,"hex"),(a=r.createCipheriv(t,i,s)).update(e,"utf8","hex")+a.final("hex")},i.symetricDecryptHex=function(e,n){var i,o,a,s,l;return l=n.substring(0,32),s=Buffer.from(l,"hex"),o=n.substring(32,96),i=Buffer.from(o,"hex"),(a=r.createDecipheriv(t,i,s)).update(e,"hex","utf8")+a.final("utf8")},i.createSignature=async function(e,t){var n;return n=this.sha256Hex(e),await a.sign(n,t)},i.verify=async function(e,t,n){var r;return r=this.sha256Hex(n),await a.verify(e,r,t)},e.exports=i}).call(this)},2731:function(e,t,n){(function(){var e,r;Object.defineProperty(t,"__esModule",{value:!0}),"object"==typeof window?(e=n(5852),Object.assign(t,e)):(r=n(7688),Object.assign(t,r))}).call(this)},2999:function(e,t,n){(function(){e.exports=n(2731)}).call(this)},7241:function(e){(function(){var t,n,r;t=function(e,t){var n;if(!e.ok){if(e.error)throw new Error(e.error);throw n=t+" - Unexpected Response: "+JSON.stringify(e),new Error(n)}},n=function(e,t){var n;if(null==e.referencePoint||null==e.encryptedContent){if(e.error)throw new Error(e.error);throw n=t+" - Unexpected Response: "+JSON.stringify(e),new Error(n)}},(r={}).addNodeId=async function(e,n,r,i){var o,a,s;o={publicKey:n,timestamp:r,signature:i},s=e+"/addNodeId",a=await this.postData(s,o),t(a,"/addNodeId")},r.getSecretSpace=async function(e,t,r,i){var o,a,s;return o={publicKey:t,timestamp:r,signature:i},s=e+"/getSecretSpace",a=await this.postData(s,o),n(a,"/getSecretSpace"),a},r.getSecret=async function(e,t,r,i,o){var a,s,l;return a={publicKey:t,secretId:r,timestamp:i,signature:o},l=e+"/getSecret",s=await this.postData(l,a),n(s,"/getSecret"),s},r.setSecret=async function(e,n,r,i,o,a){var s,l,u;s={publicKey:n,secretId:r,secret:i,timestamp:o,signature:a},u=e+"/setSecret",l=await this.postData(u,s),t(l,"/setSecret")},r.deleteSecret=async function(e,n,r,i,o){var a,s,l;a={publicKey:n,secretId:r,timestamp:i,signature:o},l=e+"/deleteSecret",s=await this.postData(l,a),t(s,"/deleteSecret")},r.startAcceptingSecretsFrom=async function(e,n,r,i,o){var a,s,l;a={publicKey:n,fromId:r,timestamp:i,signature:o},l=e+"/startAcceptingSecretsFrom",s=await this.postData(l,a),t(s,"/startAcceptingSecretsFrom")},r.stopAcceptingSecretsFrom=async function(e,n,r,i,o){var a,s,l;a={publicKey:n,fromId:r,timestamp:i,signature:o},l=e+"/stopAcceptingSecretsFrom",s=await this.postData(l,a),t(s,"/stopAcceptingSecretsFrom")},r.shareSecretTo=async function(e,n,r,i,o,a,s){var l,u,c;l={publicKey:n,shareToId:r,secretId:i,secret:o,timestamp:a,signature:s},c=e+"/shareSecretTo",u=await this.postData(c,l),t(u,"/shareSecretTo")},r.deleteSharedSecret=async function(e,n,r,i,o,a){var s,l,u;s={publicKey:n,sharedToId:r,secretId:i,timestamp:o,signature:a},u=e+"/deleteSharedSecret",l=await this.postData(u,s),t(l,"/deleteSharedSecret")},e.exports=r}).call(this)},1600:function(e,t,n){(function(){e.exports=n(7815)}).call(this)},2553:(e,t,n)=>{"use strict";var r=n(9509).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1702:function(e){(function(){var t,n,r,i,o,a,s,l,u;o={},s=new TextEncoder("utf-8"),a=new TextDecoder("utf-8"),i=function(e){return(e&=255).toString(16).padStart(2,"0")},t=function(e){var t,n,r,i,o;for(o=0n,n=r=0,i=(e=new Uint8Array(e)).length;r<i;n=++r)t=e[n],o+=BigInt(t)<<8n*BigInt(n);return o},r=function(e){return a.decode(e)},u=function(e){return s.encode(e).buffer},n=function(e){var t;return t=new Uint8Array(e),Array.prototype.map.call(t,i).join("")},l=function(e){var t,n,r,i;for(i=new Uint8Array(e.length/2),t=n=0,r=e.length;n<r;t=n+=2)i[t/2]=parseInt(e.substr(t,2),16);return i.buffer},o.bufferToBigInt=t,o.bytesToBigInt=t,o.bufferToUtf8=r,o.bytesToUtf8=r,o.utf8ToBuffer=u,o.utf8ToBytes=u,o.bufferToHex=n,o.bytesToHex=n,o.hexToBuffer=l,o.hexToBytes=l,e.exports=o}).call(this)},6519:function(e,t,n){(function(){var t,r,i,o,a,s,l,u;a={},({StringDecoder:t}=n(2553)),s=new t("utf-8"),r=function(e){var t,n,r,i,o;for(o=0n,n=r=0,i=(e=new Uint8Array(e)).length;r<i;n=++r)t=e[n],o+=BigInt(t)<<8n*BigInt(n);return o},o=function(e){var t;return t=new Uint8Array(e),s.end(t)},u=function(e){return Buffer.from(e,"utf8")},i=function(e){return Buffer.from(e).toString("hex")},l=function(e){return Buffer.from(e,"hex")},a.bufferToBigInt=r,a.bytesToBigInt=r,a.bufferToUtf8=o,a.bytesToUtf8=o,a.utf8ToBuffer=u,a.utf8ToBytes=u,a.bufferToHex=i,a.bytesToHex=i,a.hexToBuffer=l,a.hexToBytes=l,e.exports=a}).call(this)},7815:function(e,t,n){(function(){var e,r;Object.defineProperty(t,"__esModule",{value:!0}),"object"==typeof window?(e=n(1702),Object.assign(t,e)):(r=n(6519),Object.assign(t,r))}).call(this)},8745:(e,t,n)=>{"use strict";function r(e){var t=this;e="object"==typeof e?e:{},t.revision=3,t.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},t.toTable=e.toTable,t.domElement=t.toTable?document.createElement("div"):document.createElement("canvas"),t.url=e.url||"",t.size=e.size||280,t.qrc=!1,t.colorLight=e.colorLight||"#fff",t.colorDark=e.colorDark||"#000",t.ecclevel=e.ecclevel||1,t.noBorder=e.noBorder,t.borderSize=e.borderSize||4;var n,i,o,a,s,l,u,c=[],d=[],f=[],p=[],h=[],g=[],y=function(e,t){var n;e>t&&(n=e,e=t,t=n),n=t,n*=t,n+=t,n>>=1,p[n+=e]=1},m=function(e,t){var n;for(f[e+o*t]=1,n=-2;n<2;n++)f[e+n+o*(t-2)]=1,f[e-2+o*(t+n+1)]=1,f[e+2+o*(t+n)]=1,f[e+n+1+o*(t+2)]=1;for(n=0;n<2;n++)y(e-1,t+n),y(e+1,t-n),y(e-n,t-1),y(e+n,t+1)},v=function(e){for(;e>=255;)e=((e-=255)>>8)+(255&e);return e},w=function(e,t,n,i){var o,a,s,l=r.gexp,u=r.glog;for(o=0;o<i;o++)c[n+o]=0;for(o=0;o<t;o++){if(255!=(s=u[c[e+o]^c[n]]))for(a=1;a<i;a++)c[n+a-1]=c[n+a]^l[v(s+g[i-a])];else for(a=n;a<n+i;a++)c[a]=c[a+1];c[n+i-1]=255==s?0:l[v(s+g[0])]}},b=function(e,t){var n;return e>t&&(n=e,e=t,t=n),n=t,n+=t*t,n>>=1,p[n+=e]},E=function(e){var t,n,r,i;switch(e){case 0:for(n=0;n<o;n++)for(t=0;t<o;t++)t+n&1||b(t,n)||(f[t+n*o]^=1);break;case 1:for(n=0;n<o;n++)for(t=0;t<o;t++)1&n||b(t,n)||(f[t+n*o]^=1);break;case 2:for(n=0;n<o;n++)for(r=0,t=0;t<o;t++,r++)3==r&&(r=0),r||b(t,n)||(f[t+n*o]^=1);break;case 3:for(i=0,n=0;n<o;n++,i++)for(3==i&&(i=0),r=i,t=0;t<o;t++,r++)3==r&&(r=0),r||b(t,n)||(f[t+n*o]^=1);break;case 4:for(n=0;n<o;n++)for(r=0,i=n>>1&1,t=0;t<o;t++,r++)3==r&&(r=0,i=!i),i||b(t,n)||(f[t+n*o]^=1);break;case 5:for(i=0,n=0;n<o;n++,i++)for(3==i&&(i=0),r=0,t=0;t<o;t++,r++)3==r&&(r=0),(t&n&1)+!(!r|!i)||b(t,n)||(f[t+n*o]^=1);break;case 6:for(i=0,n=0;n<o;n++,i++)for(3==i&&(i=0),r=0,t=0;t<o;t++,r++)3==r&&(r=0),(t&n&1)+(r&&r==i)&1||b(t,n)||(f[t+n*o]^=1);break;case 7:for(i=0,n=0;n<o;n++,i++)for(3==i&&(i=0),r=0,t=0;t<o;t++,r++)3==r&&(r=0),(r&&r==i)+(t+n&1)&1||b(t,n)||(f[t+n*o]^=1)}},S=function(e){var t,n=0;for(t=0;t<=e;t++)h[t]>=5&&(n+=r.N1+h[t]-5);for(t=3;t<e-1;t+=2)h[t-2]==h[t+2]&&h[t+2]==h[t-1]&&h[t-1]==h[t+1]&&3*h[t-1]==h[t]&&(0==h[t-3]||t+3>e||3*h[t-3]>=4*h[t]||3*h[t+3]>=4*h[t])&&(n+=r.N3);return n},x=function(){var e,t,n,i,a,s=0,l=0;for(t=0;t<o-1;t++)for(e=0;e<o-1;e++)(f[e+o*t]&&f[e+1+o*t]&&f[e+o*(t+1)]&&f[e+1+o*(t+1)]||!(f[e+o*t]||f[e+1+o*t]||f[e+o*(t+1)]||f[e+1+o*(t+1)]))&&(s+=r.N2);for(t=0;t<o;t++){for(h[0]=0,n=i=e=0;e<o;e++)(a=f[e+o*t])==i?h[n]++:h[++n]=1,l+=(i=a)?1:-1;s+=S(n)}l<0&&(l=-l);var u=l,c=0;for(u+=u<<2,u<<=1;u>o*o;)u-=o*o,c++;for(s+=c*r.N4,e=0;e<o;e++){for(h[0]=0,n=i=t=0;t<o;t++)(a=f[e+o*t])==i?h[n]++:h[++n]=1,i=a;s+=S(n)}return s};t.genframe=function(e){var t,h,S,B,C,I,A,L,T=r.eccblocks,U=r.gexp,k=r.glog;B=e.length,i=0;do{if(i++,S=4*(n-1)+16*(i-1),a=T[S++],s=T[S++],l=T[S++],u=T[S],B<=(S=l*(a+s)+s-3+(i<=9)))break}while(i<40);for(o=17+4*i,C=l+(l+u)*(a+s)+s,B=0;B<C;B++)d[B]=0;for(c=e.slice(0),B=0;B<o*o;B++)f[B]=0;for(B=0;B<(o*(o+1)+1)/2;B++)p[B]=0;for(B=0;B<3;B++){for(S=0,h=0,1==B&&(S=o-7),2==B&&(h=o-7),f[h+3+o*(S+3)]=1,t=0;t<6;t++)f[h+t+o*S]=1,f[h+o*(S+t+1)]=1,f[h+6+o*(S+t)]=1,f[h+t+1+o*(S+6)]=1;for(t=1;t<5;t++)y(h+t,S+1),y(h+1,S+t+1),y(h+5,S+t),y(h+t+1,S+5);for(t=2;t<4;t++)f[h+t+o*(S+2)]=1,f[h+2+o*(S+t+1)]=1,f[h+4+o*(S+t)]=1,f[h+t+1+o*(S+4)]=1}if(i>1)for(B=r.adelta[i],h=o-7;;){for(t=o-7;t>B-3&&(m(t,h),!(t<B));)t-=B;if(h<=B+9)break;m(6,h-=B),m(h,6)}for(f[8+o*(o-8)]=1,h=0;h<7;h++)y(7,h),y(o-8,h),y(7,h+o-7);for(t=0;t<8;t++)y(t,7),y(t+o-8,7),y(t,o-8);for(t=0;t<9;t++)y(t,8);for(t=0;t<8;t++)y(t+o-8,8),y(8,t);for(h=0;h<7;h++)y(8,h+o-7);for(t=0;t<o-14;t++)1&t?(y(8+t,6),y(6,8+t)):(f[8+t+6*o]=1,f[6+o*(8+t)]=1);if(i>6)for(B=r.vpat[i-7],S=17,t=0;t<6;t++)for(h=0;h<3;h++,S--)1&(S>11?i>>S-12:B>>S)?(f[5-t+o*(2-h+o-11)]=1,f[2-h+o-11+o*(5-t)]=1):(y(5-t,2-h+o-11),y(2-h+o-11,5-t));for(h=0;h<o;h++)for(t=0;t<=h;t++)f[t+o*h]&&y(t,h);for(C=c.length,I=0;I<C;I++)d[I]=c.charCodeAt(I);if(c=d.slice(0),C>=(t=l*(a+s)+s)-2&&(C=t-2,i>9&&C--),I=C,i>9){for(c[I+2]=0,c[I+3]=0;I--;)B=c[I],c[I+3]|=255&B<<4,c[I+2]=B>>4;c[2]|=255&C<<4,c[1]=C>>4,c[0]=64|C>>12}else{for(c[I+1]=0,c[I+2]=0;I--;)B=c[I],c[I+2]|=255&B<<4,c[I+1]=B>>4;c[1]|=255&C<<4,c[0]=64|C>>4}for(I=C+3-(i<10);I<t;)c[I++]=236,c[I++]=17;for(g[0]=1,I=0;I<u;I++){for(g[I+1]=1,A=I;A>0;A--)g[A]=g[A]?g[A-1]^U[v(k[g[A]]+I)]:g[A-1];g[0]=U[v(k[g[0]]+I)]}for(I=0;I<=u;I++)g[I]=k[g[I]];for(S=t,h=0,I=0;I<a;I++)w(h,l,S,u),h+=l,S+=u;for(I=0;I<s;I++)w(h,l+1,S,u),h+=l+1,S+=u;for(h=0,I=0;I<l;I++){for(A=0;A<a;A++)d[h++]=c[I+A*l];for(A=0;A<s;A++)d[h++]=c[a*l+I+A*(l+1)]}for(A=0;A<s;A++)d[h++]=c[a*l+I+A*(l+1)];for(I=0;I<u;I++)for(A=0;A<a+s;A++)d[h++]=c[t+I+A*u];for(c=d,t=h=o-1,S=C=1,L=(l+u)*(a+s)+s,I=0;I<L;I++)for(B=c[I],A=0;A<8;A++,B<<=1){128&B&&(f[t+o*h]=1);do{C?t--:(t++,S?0!=h?h--:(S=!S,6==(t-=2)&&(t--,h=9)):h!=o-1?h++:(S=!S,6==(t-=2)&&(t--,h-=8))),C=!C}while(b(t,h))}for(c=f.slice(0),B=0,h=3e4,S=0;S<8&&(E(S),(t=x())<h&&(h=t,B=S),7!=B);S++)f=c.slice(0);for(B!=S&&E(B),h=r.fmtword[B+(n-1<<3)],S=0;S<8;S++,h>>=1)1&h&&(f[o-1-S+8*o]=1,S<6?f[8+o*S]=1:f[8+o*(S+1)]=1);for(S=0;S<7;S++,h>>=1)1&h&&(f[8+o*(o-7+S)]=1,S?f[6-S+8*o]=1:f[7+8*o]=1);return f},t.init=function(){n=t.ecclevel;var e=t.genframe(t.url);t.toTable?t.tableWrite(e,o):t.canvasWrite(e,o)},t.init()}n.d(t,{Z:()=>i}),r.prototype={canvasWrite:function(e,t){var n=this;if(!n.qrc&&(n.qrc=n.getContext(n.domElement),!n.qrc))return n.toTable=!0,n.domElement=document.createElement("div"),void n.tableWrite(e,t);var r=n.size,i=n.qrc;i.lineWidth=1;var o=r;o/=t+10,o=Math.round(o-.5);var a=4;n.noBorder?(i.canvas.width=i.canvas.height=o*t,a=0):i.canvas.width=i.canvas.height=r,i.clearRect(0,0,r,r),i.fillStyle=n.colorLight,i.fillRect(0,0,o*(t+8),o*(t+8)),i.fillStyle=n.colorDark;for(var s=0;s<t;s++)for(var l=0;l<t;l++)e[l*t+s]&&i.fillRect(o*(a+s),o*(a+l),o,o)},tableWrite:function(e,t){var n=this,r=Math.round(this.size/t-3.5)+"px",i=t+(n.noBorder?0:2*n.borderSize),o=n.borderSize,a="width:"+r+";height:"+r+";",s=n.colorLight,l=n.colorDark,u=document.createElement("table");u.style.cssText="border:0;border-collapse:collapse;";for(var c,d=document.createElement("tr"),f=document.createElement("td"),p=function(){return f.cloneNode()},h=function(){var e=p();return e.style.cssText=a+"background:"+s,e},g=function(e){for(var t=e.firstChild,n=0;n<o;n++)e.insertBefore(h(),t),e.appendChild(h())},y=0;y<t;y++){var m=d.cloneNode();u.appendChild(m);for(var v=0;v<t;v++)if(1===e[y*t+v]){var w=(c=void 0,(c=p()).style.cssText=a+"background:"+l,c);m.appendChild(w)}else{var b=h();m.appendChild(b)}n.noBorder||g(m)}n.noBorder||function(e){for(var t=e.firstChild,r=0;r<n.borderSize;r++){for(var o=d.cloneNode(),a=0;a<i;a++){var s=h();o.appendChild(s)}e.appendChild(o),e.insertBefore(o.cloneNode(!0),t)}}(u),n.domElement.innerHTML="",n.domElement.appendChild(u)},getContext:function(e){return e.getContext&&e.getContext("2d")?e.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(e){if(this.qrc){var t=this.imageTypes[e];if(!t)throw new Error(e+" is not a valid image type ");var n=new Image;return n.src=this.domElement.toDataURL(t),n}}},r.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],r.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],r.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],r.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],r.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],r.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],r.N1=3,r.N2=3,r.N3=40,r.N4=10;const i=r},844:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p;i={name:"clientstoremodule"},a=function(e){null!=allModules.debugmodule.modulesToDebug.clientstoremodule&&console.log("[clientstoremodule]: "+e)},t=n(7627),u=null,r=[],o={},d=!1,f=[],i.initialize=async function(){var e,n,o,s,l,c,h;a("clientstoremodule.initialize"),(u=allModules.statemodule).set("clientsList",r),null==(f=u.load("storedUnsafe"))&&(f=[],u.save("storedUnsafe",f)),d=u.get("storeUnsafeInLocalStorage"),u.addOnChangeListener("storeUnsafeInLocalStorage",p),p(),h=u.get("secretManagerURL");try{for(l=function(){var e,n,r;for(r=[],e=0,n=f.length;e<n;e++)c=f[e],r.push(t.createClient(c,null,h));return r}(),n=await Promise.all(l),o=0,s=n.length;o<s;o++)e=n[o],i.storeNewClient(e,"unsafe")}catch(e){a(e)}},s=function(e){var t,n,i,o,a;if(0!==r.length){for(i=r.length-1,o=r[i],t=n=0,a=r.length;n<a;t=++n)e===r[t].client&&e!==o&&(r[t]=o);r.length-=1}},p=function(){var e,t;if(d=u.get("storeUnsafeInLocalStorage"))for(e in o)"unsafe"===(t=o[e]).type&&c(t.client.secretKeyHex);else f.length=0,u.save("storedUnsafe")},c=function(e){var t,n;if(d){for(t=0,n=f.length;t<n;t++)if(f[t]===e)return;f.push(e),u.save("storedUnsafe")}},l=function(e){var t,n,r,i,o;if(d&&(o=f.length)>0)for(r=f[o-1],t=n=0,i=f.length;n<i;t=++n)f[t]===e&&(f[t]=r,f.length=o-1,u.save("storedUnsafe"))},i.storeNewClient=function(e,t){var n,i;a("clientstoremodule.storeNewClient");try{n=e.publicKeyHex}catch(e){return}null==o[n]&&(i={client:e,type:t},o[n]=i,"unsafe"===t&&c(e.secretKeyHex),r.push(i),u.callOutChange("clientsList"))},i.removeClient=function(e){var t;a("clientstoremodule.removeClient");try{t=e.publicKeyHex}catch(e){return}null!=o[t]&&("unsafe"===o[t].type&&l(e.secretKeyHex),delete o[t],s(e),u.callOutChange("clientsList"))},i.clientByIndex=function(e){return a("clientstoremodule.clientByIndex"),r[e]},i.clientById=function(e){return a("clientstoremodule.clientById"),o[e]},e.exports=i}).call(this)},3353:function(e){(function(){var t;t={secretManagerURL:"https://secrets.extensivlyon.coffee",dataManagerURL:"https://data.extensivlyon.coffee",storeUnsafeInUnsafe:!1,storeUnsafeInFloating:!0,keyloggerProtection:!1,storeUnsafeInLocalStorage:!1,autodetectStoredSecrets:!0,secretIdentifyingEnding:"Key"},e.exports=t}).call(this)},623:function(e){(function(){var t,n,r,i,o,a,s;o=function(e){null!=allModules.debugmodule.modulesToDebug.deletesecretpopupmodule&&console.log("[deletesecretpopupmodule]: "+e)},a=null,s=null,n=null,r=null,(i={name:"deletesecretpopupmodule"}).initialize=function(){o("deletesecretpopupmodule.initialize"),a=allModules.popupmodule,s=allModules.secretspacepagemodule,a.wireUp(deletesecretPopup,t)},t=async function(){o("applyDeletion"),await n.deleteSecret(r),s.slideIn()},i.deleteSecret=async function(e,t){o("deletesecretpopupmodule.addSecret"),n=e,r=t,deleteSecretIdLine.textContent=t,deleteSecretLine.textContent=await e.getSecret(t),a.popupForContentElement(deletesecretPopup)},e.exports=i}).call(this)},4555:function(e){(function(){var t,n,r,i,o,a,s,l;o=function(e){null!=allModules.debugmodule.modulesToDebug.deletesubspacepopupmodule&&console.log("[deletesubspacepopupmodule]: "+e)},l=null,a=null,s=null,n=null,r=null,(i={name:"deletesubspacepopupmodule"}).initialize=function(){o("deletesubspacepopupmodule.initialize"),l=allModules.utilsmodule,a=allModules.popupmodule,s=allModules.secretspacepagemodule,a.wireUp(deletesubspacePopup,t)},t=async function(){o("applyDeletion"),await n.stopAcceptSecretsFrom(r),s.slideIn()},i.deleteSubspace=function(e,t){o("deletesubspacepopupmodule.deleteSubspace"),n=e,r=t,deletesubspaceId.textContent=l.add0x(t),a.popupForContentElement(deletesubspacePopup)},e.exports=i}).call(this)},8098:function(e){(function(){var t,n,r,i,o,a,s,l;a=function(e){null!=allModules.debugmodule.modulesToDebug.editsecretpopupmodule&&console.log("[editsecretpopupmodule]: "+e)},s=null,l=null,n=null,i=null,r=null,(o={name:"editsecretpopupmodule"}).initialize=function(){a("editsecretpopupmodule.initialize"),s=allModules.popupmodule,l=allModules.secretspacepagemodule,s.wireUp(editsecretPopup,t)},t=async function(){var e,t;a("applyEdit"),(t=editSecretIdLine.textContent)&&(t!==i&&n.deleteSecret(i),(e=editSecretLine.textContent)!==r&&await n.setSecret(t,e),l.slideIn())},o.editSecret=async function(e,t){a("editsecretpopupmodule.editSecret"),a(t),r=await e.getSecret(t),n=e,i=t,editSecretIdLine.textContent=t,editSecretLine.textContent=r,s.popupForContentElement(editsecretPopup)},e.exports=o}).call(this)},2929:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p;l={name:"floatinginputpagemodule"},u=function(e){null!=allModules.debugmodule.modulesToDebug.floatinginputpagemodule&&console.log("[floatinginputpagemodule]: "+e)},o=n(7627),p=null,f=null,a=null,r=null,d=null,s=null,l.initialize=function(){u("floatinginputpagemodule.initialize"),p=allModules.utilsmodule,f=allModules.statemodule,r=allModules.autodetectkeysmodule,a=allModules.clientstoremodule,(d=allModules.slideinframemodule).wireUp(floatinginputpageContent,i,t),floatingKeyInput.addEventListener("change",c)},c=async function(){var e,t,n,r;u("secretInputChanged"),r=f.get("secretManagerURL"),n=floatingKeyInput.value,t=await p.seedToKey(n);try{s=await o.createClient(t,null,r),t=p.add0x(s.secretKeyHex),e=p.add0x(s.publicKeyHex),floatingIdLine.textContent=e}catch(e){u(e)}},i=function(){u("clearContent"),floatingKeyInput.value="",floatingIdLine.textContent="",s=null},t=function(){u("applyContent"),a.storeNewClient(s,"floating"),r.detectFor(s),i()},l.slideOut=function(){u("floatinginputpagemodule.slideOut"),d.slideoutForContentElement(floatinginputpageContent)},l.slideIn=function(){u("floatinginputpagemodule.slideIn"),d.slideinForContentElement(floatinginputpageContent)},e.exports=l}).call(this)},317:function(e){(function(){var t,n;n=function(e){null!=allModules.debugmodule.modulesToDebug.footermodule&&console.log("[footermodule]: "+e)},(t={name:"footermodule"}).initialize=function(){n("footermodule.initialize")},e.exports=t}).call(this)},9416:function(e){(function(){var t,n;n=function(e){null!=allModules.debugmodule.modulesToDebug.headermodule&&console.log("[headermodule]: "+e)},(t={name:"headermodule"}).initialize=function(){var e;n("headermodule.initialize"),e=allModules.settingspagemodule,headerRight.addEventListener("click",e.slideIn)},e.exports=t}).call(this)},543:function(e){(function(){var t,n,r,i,o,a,s;i=function(e){null!=allModules.debugmodule.modulesToDebug.idaliasmodule&&console.log("[idaliasmodule]: "+e)},a=function(e){return JSON.stringify(e,null,4)},o=function(e){return i("\n"+a(e))},s=null,t={},n={},(r={name:"idaliasmodule"}).initialize=function(){var e,r;for(e in i("idaliasmodule.initialize"),s=allModules.statemodule,null==(t=s.load("aliasToId"))&&(t={},s.save("aliasToId",t)),t)r=t[e],n[r]=e;o(t),o(n)},r.idFrom=function(e){return t[e]},r.aliasFrom=function(e){return n[e]},r.getAllIds=function(){return Object.keys(n)},r.updateAlias=function(e,r){var i;null!=(i=n[r])&&i!==e&&delete n[r],e?(t[e]=r,n[r]=e):delete t[i],s.save("aliasToId"),s.callOutChange("aliasToId")},r.applyAliases=function(e){var r,o,a,l;for(i("idaliasmodule.applyAliases"),r=0,o=e.length;r<o;r++)l=e[r],a=n[l.id],delete n[l.id],l.alias?(t[l.alias]=l.id,n[l.id]=l.alias):delete t[a];s.save("aliasToId"),s.callOutChange("aliasToId")},e.exports=r}).call(this)},1062:function(e,t,n){(function(){var t;(t={name:"indexdomconnect"}).initialize=function(){n.g.messagebox=document.getElementById("messagebox"),n.g.qrreaderBackground=document.getElementById("qrreader-background"),n.g.qrreaderVideoElement=document.getElementById("qrreader-video-element"),n.g.qrdisplayBackground=document.getElementById("qrdisplay-background"),n.g.qrdisplayContent=document.getElementById("qrdisplay-content"),n.g.qrdisplayQr=document.getElementById("qrdisplay-qr"),n.g.addaliasPopup=document.getElementById("addalias-popup"),n.g.addAliasIdLine=document.getElementById("add-alias-id-line"),n.g.addAliasLine=document.getElementById("add-alias-line"),n.g.storeidPopup=document.getElementById("storeid-popup"),n.g.storeidLine=document.getElementById("storeid-line"),n.g.storeidAsLine=document.getElementById("storeid-as-line"),n.g.storeidOptionsContainer=document.getElementById("storeid-options-container"),n.g.removeclientPopup=document.getElementById("removeclient-popup"),n.g.clientToRemoveId=document.getElementById("client-to-remove-id"),n.g.sharesecretPopup=document.getElementById("sharesecret-popup"),n.g.sharesecretIdLine=document.getElementById("sharesecret-id-line"),n.g.sharesecretToIdLine=document.getElementById("sharesecret-to-id-line"),n.g.sharesecretOptionsContainer=document.getElementById("sharesecret-options-container"),n.g.storeunsafePopup=document.getElementById("storeunsafe-popup"),n.g.storeunsafeIdLine=document.getElementById("storeunsafe-id-line"),n.g.storeunsafeAsLine=document.getElementById("storeunsafe-as-line"),n.g.storeunsafeOptionsContainer=document.getElementById("storeunsafe-options-container"),n.g.storesecretPopup=document.getElementById("storesecret-popup"),n.g.storesecretIdLine=document.getElementById("storesecret-id-line"),n.g.storesecretAsLine=document.getElementById("storesecret-as-line"),n.g.storesecretOptionsContainer=document.getElementById("storesecret-options-container"),n.g.deletesubspacePopup=document.getElementById("deletesubspace-popup"),n.g.deletesubspaceId=document.getElementById("deletesubspace-id"),n.g.addsubspacePopup=document.getElementById("addsubspace-popup"),n.g.addsubspaceId=document.getElementById("addsubspace-id"),n.g.easyAddOptionsContainer=document.getElementById("easy-add-options-container"),n.g.deletesecretPopup=document.getElementById("deletesecret-popup"),n.g.deleteSecretIdLine=document.getElementById("delete-secret-id-line"),n.g.deleteSecretLine=document.getElementById("delete-secret-line"),n.g.addsecretPopup=document.getElementById("addsecret-popup"),n.g.addSecretIdLine=document.getElementById("add-secret-id-line"),n.g.addSecretLine=document.getElementById("add-secret-line"),n.g.editsecretPopup=document.getElementById("editsecret-popup"),n.g.editSecretIdLine=document.getElementById("edit-secret-id-line"),n.g.editSecretLine=document.getElementById("edit-secret-line"),n.g.hiddenAliasTemplate=document.getElementById("hidden-alias-template"),n.g.aliaspageContent=document.getElementById("aliaspage-content"),n.g.aliasContainer=document.getElementById("alias-container"),n.g.addAliasButton=document.getElementById("add-alias-button"),n.g.subspacepageContent=document.getElementById("subspacepage-content"),n.g.sharedSecretsContainer=document.getElementById("shared-secrets-container"),n.g.sharedFromIdLine=document.getElementById("shared-from-id-line"),n.g.sharedFromAlias=document.getElementById("shared-from-alias"),n.g.copySharedFromIdButton=document.getElementById("copy-shared-from-id-button"),n.g.qrForSharedFromIdButton=document.getElementById("qr-for-shared-from-id-button"),n.g.sharedToIdLine=document.getElementById("shared-to-id-line"),n.g.sharedToAlias=document.getElementById("shared-to-alias"),n.g.copySharedToIdButton=document.getElementById("copy-shared-to-id-button"),n.g.qrForSharedToIdButton=document.getElementById("qr-for-shared-to-id-button"),n.g.hiddenSecretTemplate=document.getElementById("hidden-secret-template"),n.g.hiddenSubspaceTemplate=document.getElementById("hidden-subspace-template"),n.g.secretspacepageContent=document.getElementById("secretspacepage-content"),n.g.secretsContainer=document.getElementById("secrets-container"),n.g.addSecretButton=document.getElementById("add-secret-button"),n.g.subspacesContainer=document.getElementById("subspaces-container"),n.g.addSubspaceButton=document.getElementById("add-subspace-button"),n.g.idLine=document.getElementById("id-line"),n.g.secretspacepageAlias=document.getElementById("secretspacepage-alias"),n.g.copyIdButton=document.getElementById("copy-id-button"),n.g.qrForIdButton=document.getElementById("qr-for-id-button"),n.g.storeIdButton=document.getElementById("store-id-button"),n.g.secretKeyLine=document.getElementById("secret-key-line"),n.g.secretKeyHandleLine=document.getElementById("secret-key-handle-line"),n.g.copySecretKeyButton=document.getElementById("copy-secret-key-button"),n.g.qrForSecretKeyButton=document.getElementById("qr-for-secret-key-button"),n.g.storeSecretKeyButton=document.getElementById("store-secret-key-button"),n.g.removeClientButton=document.getElementById("remove-client-button"),n.g.floatinginputpageContent=document.getElementById("floatinginputpage-content"),n.g.floatingKeyInput=document.getElementById("floating-key-input"),n.g.floatingIdLine=document.getElementById("floating-id-line"),n.g.unsafeinputpageContent=document.getElementById("unsafeinputpage-content"),n.g.unsafeKeyInput=document.getElementById("unsafe-key-input"),n.g.unsafeIdLine=document.getElementById("unsafe-id-line"),n.g.scanQrButton=document.getElementById("scan-qr-button"),n.g.createUnsafeButton=document.getElementById("create-unsafe-button"),n.g.settingspageContent=document.getElementById("settingspage-content"),n.g.secretManagerInput=document.getElementById("secret-manager-input"),n.g.dataManagerInput=document.getElementById("data-manager-input"),n.g.storeInUnsafeInput=document.getElementById("store-in-unsafe-input"),n.g.storeInFloatingInput=document.getElementById("store-in-floating-input"),n.g.keyloggerProtectionInput=document.getElementById("keylogger-protection-input"),n.g.storeUnsafeInput=document.getElementById("store-unsafe-input"),n.g.autodetectUnsafeInput=document.getElementById("autodetect-unsafe-input"),n.g.identifyingEndingInput=document.getElementById("identifying-ending-input"),n.g.content=document.getElementById("content"),n.g.hiddenClientsDisplayTemplate=document.getElementById("hidden-clients-display-template"),n.g.clientsDisplayContainer=document.getElementById("clients-display-container"),n.g.aliasPageButton=document.getElementById("alias-page-button"),n.g.inputUnsafeButton=document.getElementById("input-unsafe-button"),n.g.inputFloatingButton=document.getElementById("input-floating-button"),n.g.headerRight=document.getElementById("header-right")},e.exports=t}).call(this)},3826:function(e){(function(){var t,n,r,i,o,a;i=function(e){null!=allModules.debugmodule.modulesToDebug.messageboxmodule&&console.log("[messageboxmodule]: "+e)},a=5e3,t=null,(o={name:"messageboxmodule"}).initialize=function(){var e;i("messageboxmodule.initialize"),null!=(e=allModules.configmodule).messageboxStayDurationMS&&(a=e.messageboxStayDurationMS)},r=function(){i("letDisappear"),null!=t&&clearTimeout(t),t=setTimeout(n,a)},n=function(){i("disappear"),messagebox.textContent="",messagebox.className="gone",t=null},o.info=function(e){i("messageboxmodule.info"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="",r())},o.error=function(e){i("messageboxmodule.error"),"string"==typeof e&&(messagebox.textContent=e,messagebox.className="error",r())},e.exports=o}).call(this)},3929:function(e,t,n){(function(){var t,r,i,o,a;a={name:"qrdisplaymodule"},i=function(e){null!=allModules.debugmodule.modulesToDebug.qrdisplaymodule&&console.log("[qrdisplaymodule]: "+e)},t=n(8745).Z,r=null,a.initialize=function(){i("qrdisplaymodule.initialize"),r=new t({url:"",size:320,toTable:!1,ecclevel:3,noBorder:!0}),qrdisplayQr.appendChild(r.domElement),qrdisplayBackground.addEventListener("click",o)},o=function(){i("qrClicked"),qrdisplayBackground.classList.remove("active")},a.displayCode=function(e){i("qrdisplaymodule.displayCode"),i(e),r.url=e,qrdisplayContent.textContent=e,r.init(),qrdisplayBackground.classList.add("active")},e.exports=a}).call(this)},319:function(e){(function(){var t,n,r,i,o,a,s,l;i=function(e){null!=allModules.debugmodule.modulesToDebug.removeclientpopupmodule&&console.log("[removeclientpopupmodule]: "+e)},l=null,o=null,n=null,s=null,r=null,(a={name:"removeclientpopupmodule"}).initialize=function(){i("removeclientpopupmodule.initialize"),l=allModules.utilsmodule,o=allModules.popupmodule,n=allModules.clientstoremodule,s=allModules.secretspacepagemodule,o.wireUp(removeclientPopup,t)},t=function(){i("applyRemoval"),n.removeClient(r),s.slideOut()},a.removeClient=function(e){i("removeclientpopupmodule.removeclient"),r=e,clientToRemoveId.textContent=l.add0x(e.publicKeyHex),o.popupForContentElement(removeclientPopup)},e.exports=a}).call(this)},8753:function(e){(function(){var t,n;t=function(e){null!=allModules.debugmodule.modulesToDebug.secretspacedisplaymodule&&console.log("[secretspacedisplaymodule]: "+e)},(n={name:"secretspacedisplaymodule"}).initialize=function(){t("secretspacedisplaymodule.initialize")},e.exports=n}).call(this)},3551:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m,v,w,b,E,S,x,B,C,I,A,L,T,U,k,O,M,_,H,R,P,F,N,D,K,z,q,j,$,W,V,Z,G,J,Q;P={name:"secretspacepagemodule"},I=function(e){null!=allModules.debugmodule.modulesToDebug.secretspacepagemodule&&console.log("[secretspacepagemodule]: "+e)},T=function(e){return JSON.stringify(e,null,4)},L=function(e){return I("\n"+T(e))},n(7627),t=n(466),Q=null,K=null,A=null,s=null,H=null,D=null,U=null,G=null,S=null,r=null,g=null,a=null,v=null,j=null,F=null,V=null,q=null,_=null,c=null,h=null,R=null,J=null,P.initialize=function(){I("secretspacepagemodule.initialize"),Q=allModules.utilsmodule,K=allModules.statemodule,A=allModules.messageboxmodule,s=allModules.idaliasmodule,H=allModules.clientstoremodule,D=allModules.slideinframemodule,U=allModules.qrdisplaymodule,G=allModules.subspacepagemodule,S=allModules.editsecretpopupmodule,r=allModules.addsecretpopupmodule,g=allModules.deletesecretpopupmodule,a=allModules.addsubspacepopupmodule,v=allModules.deletesubspacepopupmodule,j=allModules.storesecretpopupmodule,F=allModules.sharesecretpopupmodule,V=allModules.storeunsafepopupmodule,q=allModules.storeidpopupmodule,_=allModules.removeclientpopupmodule,R=hiddenSecretTemplate.innerHTML,J=hiddenSubspaceTemplate.innerHTML,D.wireUp(secretspacepageContent,u,l),addSecretButton.addEventListener("click",i),addSubspaceButton.addEventListener("click",o),copyIdButton.addEventListener("click",d),qrForIdButton.addEventListener("click",k),storeIdButton.addEventListener("click",z),copySecretKeyButton.addEventListener("click",p),qrForSecretKeyButton.addEventListener("click",O),storeSecretKeyButton.addEventListener("click",W),removeClientButton.addEventListener("click",M)},B=function(e){return e.parentElement.parentElement.getAttribute("secret-id")},C=function(e){return e.parentElement.getAttribute("subspace-id")},y=function(e){var t;I("deleteSecretButtonClicked"),t=B(e.target),g.deleteSecret(c.client,t)},x=function(e){var t;I("editSecretButtonClicked"),t=B(e.target),S.editSecret(c.client,t)},f=async function(e){var t,n;I("copySecretButtonClicked"),n=B(e.target),t=await c.client.getSecret(n),Q.copyToClipboard(t)},$=function(e){var t;I("storeSecretButtonClicked"),t=B(e.target),j.storeSecret(c.client,t)},N=function(e){var t;I("shareSecretButtonClicked"),t=B(e.target),F.shareSecret(c.client,t)},i=function(){I("addSecretButtonClicked"),r.addSecret(c.client)},Z=function(e){var t;I("subspaceClicked"),t=C(e.target),K.set("chosenSubspaceId",t),G.slideIn()},m=function(e){var t;I("deleteSubspaceButtonClicked"),t=C(e.target),v.deleteSubspace(c.client,t)},o=function(){I("addSubspaceButtonClicked"),a.addSubspace(c.client)},d=function(){I("copyIdButtonClicked"),Q.copyToClipboard(c.client.publicKeyHex)},k=function(){I("qrForIdButtonClicked"),U.displayCode(c.client.publicKeyHex)},z=function(){I("storeIdButtonClicked"),q.storeId(c.client)},p=function(){I("copySecretKeyButtonClicked"),Q.copyToClipboard(c.client.secretKeyHex)},O=function(){I("qrForSecretKeyButtonClicked"),U.displayCode(c.client.secretKeyHex)},W=function(){I("storeSecretKeyButtonClicked"),V.storeUnsafe(c.client)},M=function(){I("removeClientButtonClicked"),_.removeClient(c.client)},w=function(){var e,t;I("displayClientInformation"),t=c.client.publicKeyHex,idLine.textContent=Q.add0x(t),null!=(e=s.aliasFrom(t))&&(secretspacepageAlias.textContent=e),secretKeyHandleLine.className=c.type,"unsafe"===c.type?secretKeyLine.textContent=Q.add0x(c.client.secretKeyHex):secretKeyLine.textContent=""},b=function(){var e,n,r,i,o,a,s,l,u,c,d,p,g,m,v,w,b,E,S,B,C;for(I("displayCurrentSecretSpace"),e={},n="",a=0,d=(S=Object.keys(h)).length;a<d;a++)s=S[a],null!=h[s].secret&&(e.secretId=s,n+=t.render(R,e));for(secretsContainer.innerHTML=n||"<p>No Secret in this Space :-)</p>",l=0,p=(o=secretsContainer.getElementsByClassName("edit-secret-button")).length;l<p;l++)o[l].addEventListener("click",x);for(u=0,g=(i=secretsContainer.getElementsByClassName("delete-secret-button")).length;u<g;u++)i[u].addEventListener("click",y);for(c=0,m=(r=secretsContainer.getElementsByClassName("copy-secret-button")).length;c<m;c++)r[c].addEventListener("click",f);for(b=0,v=(C=secretsContainer.getElementsByClassName("store-secret-button")).length;b<v;b++)C[b].addEventListener("click",$);for(E=0,w=(B=secretsContainer.getElementsByClassName("share-secret-button")).length;E<w;E++)B[E].addEventListener("click",N)},E=function(){var e,n,r,i,o,a,s,l,u,c,d,f;for(I("displaySubspaces"),e={},n="",i=0,l=(d=Object.keys(h)).length;i<l;i++)o=d[i],null==h[o].secret&&(e.subspaceId=o,e.subspaceLabel=Q.idOrAlias(o),n+=t.render(J,e));for(subspacesContainer.innerHTML=n||"<p>No Subspace yet :-)</p>",a=0,u=(f=subspacesContainer.getElementsByClassName("subspace-id")).length;a<u;a++)f[a].addEventListener("click",Z);for(s=0,c=(r=subspacesContainer.getElementsByClassName("delete-subspace-button")).length;s<c;s++)r[s].addEventListener("click",m)},u=function(){I("clearContent"),c=null,K.set("chosenClientIndex",null),secretsContainer.innerHTML="",secretspacepageAlias.textContent=""},l=function(){var e,t,n;I("applyContent"),t=c.client.publicKeyHex,null==(e=s.aliasFrom(t))&&(e=""),e!==(n=secretspacepageAlias.textContent)&&s.updateAlias(n,t),u()},P.slideOut=function(){I("secretspacepagemodule.slideOut"),D.slideoutForContentElement(secretspacepageContent)},P.slideIn=async function(){var e;if(I("secretspacepagemodule.slideIn"),"number"!=typeof(e=K.get("chosenClientIndex")))throw new Error("chosenClientIndex was not a number!");c=H.clientByIndex(e),D.slideinForContentElement(secretspacepageContent);try{h=await c.client.getSecretSpace()}catch(e){return A.error("There was an error retrieving this SecretSpace"),void P.slideOut()}L(h),w(),b(),E()},e.exports=P}).call(this)},535:function(e){(function(){var t,n,r,i,o,a,s,l,u;r=function(e){null!=allModules.debugmodule.modulesToDebug.settingspagemodule&&console.log("[settingspagemodule]: "+e)},s=null,a=null,(o={name:"settingspagemodule"}).initialize=function(){r("settingspagemodule.initialize"),s=allModules.statemodule,(a=allModules.slideinframemodule).wireUp(settingspageContent,n,t),l(),i()},n=function(){r("clearContent"),l()},t=function(){r("applyContent"),u()},i=function(){r("markAllSettingsAsRegularState"),s.save("secretManagerURL",s.load("secretManagerURL")),s.save("dataManagerURL",s.load("dataManagerURL")),s.save("storeUnsafeInUnsafe",s.load("storeUnsafeInUnsafe")),s.save("storeUnsafeInFloating",s.load("storeUnsafeInFloating")),s.save("keyloggerProtection",s.load("keyloggerProtection")),s.save("storeUnsafeInLocalStorage",s.load("storeUnsafeInLocalStorage")),s.save("autodetectStoredSecrets",s.load("autodetectStoredSecrets")),s.save("secretIdentifyingEnding",s.load("secretIdentifyingEnding"))},l=function(){var e,t,n,i,o,a,l;r("syncSecretManagerURLFromState"),i=s.load("secretManagerURL"),secretManagerInput.value=i,e=s.load("dataManagerURL"),dataManagerInput.value=e,l=s.load("storeUnsafeInUnsafe"),storeInUnsafeInput.checked=l,o=s.load("storeUnsafeInFloating"),storeInFloatingInput.checked=o,n=s.load("keyloggerProtection"),keyloggerProtectionInput.checked=n,a=s.load("storeUnsafeInLocalStorage"),storeUnsafeInput.checked=a,s.load("autodetectStoredSecrets"),autodetectUnsafeInput.checked=storeUnsafeInput,t=s.load("secretIdentifyingEnding"),identifyingEndingInput.value=t},u=function(){var e,t,n;r("syncSettingsToState"),0!==(t=secretManagerInput.value).indexOf("https://")&&(t="https://"+t),s.set("secretManagerURL",t),0!==(t=dataManagerInput.value).indexOf("https://")&&(t="http://"+t),s.set("dataManagerURL",t),e=storeInUnsafeInput.checked,s.set("storeUnsafeInUnsafe",e),e=storeInFloatingInput.checked,s.set("storeUnsafeInFloating",e),e=keyloggerProtectionInput.checked,s.set("keyloggerProtection",e),e=storeUnsafeInput.checked,s.set("storeUnsafeInLocalStorage",e),e=autodetectUnsafeInput.checked,s.set("autodetectStoredSecrets",e),n=identifyingEndingInput.value,s.set("secretIdentifyingEnding",n),s.saveRegularState()},o.slideOut=function(){r("settingspagemodule.slideOut"),a.slideoutForContentElement(settingspageContent)},o.slideIn=function(){r("settingspagemodule.slideIn"),a.slideinForContentElement(settingspageContent)},e.exports=o}).call(this)},7077:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m,v,w,b,E;w={name:"sharesecretpopupmodule"},h=function(e){null!=allModules.debugmodule.modulesToDebug.sharesecretpopupmodule&&console.log("[sharesecretpopupmodule]: "+e)},t=n(466),E=null,b=null,g=null,y=null,l=null,r=null,c=null,d=null,a=null,i=null,p=null,u=null,w.initialize=function(){h("sharesecretpopupmodule.initialize"),E=allModules.utilsmodule,b=allModules.statemodule,g=allModules.messageboxmodule,y=allModules.popupmodule,l=allModules.clientstoremodule,r=allModules.idaliasmodule,u=hiddenClientsDisplayTemplate.innerHTML,y.wireUp(sharesecretPopup,o),sharesecretToIdLine.addEventListener("change",v)},f=function(){var e,n,o,a,c,d,f,g,y,v,w,S,x,B;for(h("displayShareOptions"),sharesecretToIdLine.value="",B="",null==(i=r.getAllIds()).length&&(i=[]),g=0,w=(a=b.get("clientsList")).length;g<w;g++)o=(n=a[g]).client.publicKeyHex,i.includes(o)||i.push(o);if(i.length>0){for(e={},c=0,d=y=0,S=i.length;y<S;d=++y)f=i[d],e.index=d,e.label=E.idOrAlias(f),n=l.clientById(f),e.type=null!=n?n.type:"",B+=t.render(u,e),c++;for(sharesecretOptionsContainer.innerHTML=B||"<p>No Options to share the Secret!</p>",v=0,x=(p=sharesecretOptionsContainer.getElementsByClassName("clients-display")).length;v<x;v++)p[v].addEventListener("click",s);1===c&&m(p[0])}},o=async function(){var e,t,n;if(h("applyShare"),null!=a){n=i[a];try{t=await c.getSecret(d),await c.shareSecretTo(n,d,t)}catch(t){e=t;try{await c.deleteSharedSecret(n,d)}catch(t){e=t}g.error("Failed to share secret!"),h(e)}}},v=function(){var e,t,n,r,i,o;for(h("sharesecretToIdLineChanged"),o=E.strip0x(sharesecretToIdLine.value),t=b.get("clientsList"),h(o),r=0,i=clientElements.length;r<i;r++)if(e=t[(n=clientElements[r]).getAttribute("list-index")].client,h(e.publicKeyHex),e.publicKeyHex===E.strip0x(o))return void m(n);m(null)},s=function(e){h("clientOptionClicked"),m(e.target)},m=function(e){var t,n,r;for(h("selectClientFor"),a=null,n=0,r=p.length;n<r;n++)p[n].classList.remove("selected");null!=e&&(a=parseInt(e.getAttribute("list-index")),e.classList.add("selected"),t=i[a],sharesecretToIdLine.value=E.add0x(t))},w.shareSecret=function(e,t){h("sharesecretpopupmodule.shareSecret"),c=e,d=t,a=null,sharesecretIdLine.textContent=d,f(),y.popupForContentElement(sharesecretPopup)},e.exports=w}).call(this)},1988:function(e){(function(){var t,n,r,i,o;n=function(e){null!=allModules.debugmodule.modulesToDebug.slideinframemodule&&console.log("[slideinframemodule]: "+e)},t=i={name:"slideinframemodule"},i.initialize=function(){n("slideinframemodule.initialize")},o=function(e){e.classList.remove("active"),"undefined"!=typeof content&&null!==content&&content.classList.remove("overlayed")},r=function(e){e.classList.add("active"),"undefined"!=typeof content&&null!==content&&content.classList.add("overlayed")},i.wireUp=function(e,n,r){var i,a,s,l,u;u=t.getFrameForContentElement(e),s=t.getBackButtonForContentElement(e),i=t.getAcceptButtonForContentElement(e),l=function(){n(),o(u)},a=function(){r(),o(u)},s.addEventListener("click",l),i.addEventListener("click",a)},i.slideinForContentElement=function(e){var n;n=t.getFrameForContentElement(e),r(n)},i.slideoutForContentElement=function(e){var n;n=t.getFrameForContentElement(e),o(n)},i.getFrameForContentElement=function(e){return e.parentElement.parentElement},i.getBackButtonForContentElement=function(e){return e.parentElement.parentElement.getElementsByClassName("slideinframe-back-button")[0]},i.getAcceptButtonForContentElement=function(e){return e.parentElement.parentElement.getElementsByClassName("slideinframe-accept-button")[0]},e.exports=i}).call(this)},4981:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m,v,w,b,E;E={name:"statemodule"},h=function(e){null!=allModules.debugmodule.modulesToDebug.statemodule&&console.log("[statemodule]: "+e)},y=function(e){return JSON.stringify(e,null,4)},g=function(e){return h("\n"+y(e))};try{u=n(3353)}catch(e){}b=null,t={},d={},s={},p=function(){var e,n;for(n in b=null!=(b=localStorage.getItem("state"))?JSON.parse(b):{})null==(e=b[n])&&(e=null),null!=e&&null!=e.content||(b[n]={content:e}),t[n]=b[n];for(n in u)e=u[n],null==t[n]&&(t[n]={content:e,isVolatile:!0})},c=function(e,t){return e!==t},a=function(e,n){var r;return r=s[e]||c,null==t[e]||(t[e].content,r(t[e].content,n))},f=function(e){var n,r;return h("loadDedicated"),r=localStorage.getItem(e),n=JSON.parse(r),t[e]={content:n,isDedicated:!0},n},v=function(e){var n,r;h("saveDedicatedState"),h(e),g({allStates:t}),n=t[e].content,t[e].isDedicated=!0,r=JSON.stringify(n),localStorage.setItem(e,r)},w=function(){var e;h("saveRegularState"),e=JSON.stringify(b),localStorage.setItem("state",e)},i=function(e,n,r,i){var s,l;if(l=null!=t[e]&&t[e].isVolatile,"boolean"!=typeof r&&(r=null!=t[e]&&!0===t[e].isDedicated),null!=t[e]){if(s=t[e].isDedicated?r!==t[e].isDedicated:r,!(a(e,n)||l||s))return;t[e].content=n,r&&(t[e].isDedicated=!0),s&&!r&&(localStorage.removeItem(e),delete t[e].isDedicated),l&&delete t[e].isVolatile}else t[e]={content:n,isDedicated:r};if(r?(v(e),null!=b[e]&&(delete b[e],w())):(null==b[e]&&(b[e]=t[e]),w()),!i)return o(e)},m=function(){var e;for(e in h("saveAllStates"),g(t),t)t[e].isDedicated&&v(e);w()},r=function(e,n,r){if(a(e,n)){try{t[e].content=n}catch(r){t[e]={content:n,isVolatile:!0}}if(!r)return o(e)}},l=function(e){var t,n;if(1!==(n=Object.keys(e)).length)throw new Error("Object did not have exactly one Member!");return{key:t=n[0],content:e[t]}},o=async function(e){var t,n;if(null!=d[e])return n=function(){var n,r,i,o;for(o=[],n=0,r=(i=d[e]).length;n<r;n++)t=i[n],o.push(t());return o}(),await Promise.all(n)},E.getState=function(){return t},E.load=function(e){return h("statemodule.load"),g({allStates:t}),null!=t[e]&&t[e].isVolatile?t[e].content:null==t[e]||t[e].isDedicated?f(e):(p(),t[e].content)},E.save=function(e,t,n){if(h("statemodule.save"),null!=e)return"object"==typeof e&&({key:e,content:t}=l(e)),null==t&&null==n?v(e):i(e,t,n,!1)},E.saveSilently=function(e,t,n){return h("statemodule.saveSilently"),"object"==typeof e&&({key:e,content:t}=l(e)),i(e,t,n,!0)},E.saveAll=m,E.saveRegularState=w,E.remove=function(e){if(h("statemodule.remove"),null!=t[e])if(t[e].isVolatile)delete t[e];else{if(t[e].isDedicated)return localStorage.removeItem(e),void delete t[e];delete t[e],delete b[e],w()}},E.get=function(e){if(null!=t[e])return t[e].content},E.set=function(e,t){h("statemodule.set"),"object"==typeof e&&({key:e,content:t}=l(e)),r(e,t,!1)},E.setSilently=function(e,t){h("statemodule.setSilently"),"object"==typeof e&&({key:e,content:t}=l(e)),r(e,t,!0)},E.addOnChangeListener=function(e,t){h("statemodule.addOnChangeListener"),null==d[e]&&(d[e]=[]),d[e].push(t)},E.removeOnChangeListener=function(e,t){var n,r,i,o;if(h("statemodule.removeOnChangeListener"),null!=(n=d[e])){for(r=i=0,o=n.length;i<o;r=++i)if(n[r]===t)return h("candidate found at: "+r),n[r]=n[n.length-1],void n.pop();h("No candidate found for given function!")}},E.clearOnChangeListeners=function(e,t){h("statemodule.clearOnChangeListener"),d[e]=[]},E.callOutChange=function(e){return o(e)},E.setChangeDetectionFunction=function(e,t){null==t?delete s[e]:s[e]=t},p(),e.exports=E}).call(this)},5943:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g;h={name:"storeidpopupmodule"},c=function(e){null!=allModules.debugmodule.modulesToDebug.storeidpopupmodule&&console.log("[storeidpopupmodule]: "+e)},t=n(466),g=null,p=null,d=null,l=null,i=null,o=null,s=null,h.initialize=function(){c("storeidpopupmodule.initialize"),g=allModules.utilsmodule,p=allModules.statemodule,d=allModules.popupmodule,s=hiddenClientsDisplayTemplate.innerHTML,d.wireUp(storeidPopup,r)},u=function(){var e,n,r,i,u,d,h,y,m,v;if(c("displayStoreOptions"),v="",null!=(n=p.get("clientsList"))){for(e={},r=0,i=u=0,h=n.length;u<h;i=++u)(m=n[i]).client!==l&&(e.index=i,e.type=m.type,e.label=g.idOrAlias(m.client.publicKeyHex),v+=t.render(s,e),r++);for(storeidOptionsContainer.innerHTML=v||"<p>No Options to Store the Id!</p>",d=0,y=(o=storeidOptionsContainer.getElementsByClassName("clients-display")).length;d<y;d++)o[d].addEventListener("click",a);1===r&&f(o[0])}},a=function(e){c("clientOptionClicked"),f(e.target)},f=function(e){var t,n;for(c("selectClientFor"),i=parseInt(e.getAttribute("list-index")),t=0,n=o.length;t<n;t++)o[t].classList.remove("selected");e.classList.add("selected")},r=async function(){var e,t;c("applyStore"),null!=i&&(t=p.get("clientsList")[i].client,(e=storeidAsLine.textContent)&&await t.setSecret(e,l.publicKeyHex))},h.storeId=function(e){var t;c("storeidpopupmodule.storeSecret"),l=e,i=null,p.get("secretIdentifyingEnding"),t=e.publicKeyHex,storeidLine.textContent=g.add0x(t),storeidAsLine.textContent=g.idOrAlias(t)+"Id",u(),d.popupForContentElement(storeidPopup)},e.exports=h}).call(this)},4286:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m;y={name:"storesecretpopupmodule"},f=function(e){null!=allModules.debugmodule.modulesToDebug.storesecretpopupmodule&&console.log("[storesecretpopupmodule]: "+e)},t=n(466),m=null,g=null,p=null,l=null,u=null,c=null,i=null,o=null,s=null,y.initialize=function(){f("storesecretpopupmodule.initialize"),m=allModules.utilsmodule,g=allModules.statemodule,p=allModules.popupmodule,s=hiddenClientsDisplayTemplate.innerHTML,p.wireUp(storesecretPopup,r)},d=function(){var e,n,r,i,u,c,d,p,y,v;if(f("displayStoreOptions"),v="",null!=(n=g.get("clientsList"))){for(e={},r=0,i=u=0,d=n.length;u<d;i=++u)(y=n[i]).client!==l&&(e.index=i,e.type=y.type,e.label=m.idOrAlias(y.client.publicKeyHex),v+=t.render(s,e),r++);for(storesecretOptionsContainer.innerHTML=v||"<p>No Options to Store the Secret!</p>",c=0,p=(o=storesecretOptionsContainer.getElementsByClassName("clients-display")).length;c<p;c++)o[c].addEventListener("click",a);1===r&&h(o[0])}},r=async function(){var e,t,n;f("applyStore"),null!=i&&(e=null!=u?await l.getSecretFrom(c,u):await l.getSecret(c),n=g.get("clientsList")[i].client,(t=storesecretAsLine.textContent)&&await n.setSecret(t,e))},a=function(e){f("clientOptionClicked"),h(e.target)},h=function(e){var t,n;for(f("selectClientFor"),i=parseInt(e.getAttribute("list-index")),t=0,n=o.length;t<n;t++)o[t].classList.remove("selected");e.classList.add("selected")},y.storeSecret=function(e,t){f("storesecretpopupmodule.storeSecret"),l=e,u=null,c=t,i=null,storesecretIdLine.textContent=c,storesecretAsLine.textContent=c,d(),p.popupForContentElement(storesecretPopup)},y.storeSharedSecret=function(e,t,n){f("storesecretpopupmodule.storeSecret"),l=e,u=t,c=n,i=null,storesecretIdLine.textContent=c,storesecretAsLine.textContent=c,d(),p.popupForContentElement(storesecretPopup)},e.exports=y}).call(this)},3527:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g;h={name:"storeunsafepopupmodule"},c=function(e){null!=allModules.debugmodule.modulesToDebug.storeunsafepopupmodule&&console.log("[storeunsafepopupmodule]: "+e)},t=n(466),g=null,p=null,d=null,l=null,i=null,o=null,s=null,h.initialize=function(){c("storeunsafepopupmodule.initialize"),g=allModules.utilsmodule,p=allModules.statemodule,d=allModules.popupmodule,s=hiddenClientsDisplayTemplate.innerHTML,d.wireUp(storeunsafePopup,r)},u=function(){var e,n,r,i,u,d,h,y,m,v,w,b;if(c("displayStoreOptions"),b="",null!=(n=p.get("clientsList"))){for(d=p.get("storeUnsafeInUnsafe"),u=p.get("storeUnsafeInFloating"),e={},r=0,i=h=0,m=n.length;h<m;i=++h)if((w=n[i]).client!==l){switch(w.type){case"unsafe":if(!d)continue;break;case"floating":if(!u)continue}e.index=i,e.type=w.type,e.label=g.idOrAlias(w.client.publicKeyHex),b+=t.render(s,e),r++}for(storeunsafeOptionsContainer.innerHTML=b||"<p>No Options to Store the Unsafe Secret!</p>",y=0,v=(o=storeunsafeOptionsContainer.getElementsByClassName("clients-display")).length;y<v;y++)o[y].addEventListener("click",a);1===r&&f(o[0])}},a=function(e){c("clientOptionClicked"),f(e.target)},f=function(e){var t,n;for(c("selectClientFor"),i=parseInt(e.getAttribute("list-index")),t=0,n=o.length;t<n;t++)o[t].classList.remove("selected");e.classList.add("selected")},r=async function(){var e,t;c("applyStore"),null!=i&&(t=p.get("clientsList")[i].client,(e=storeunsafeAsLine.textContent)&&await t.setSecret(e,l.secretKeyHex))},h.storeUnsafe=function(e){var t,n;c("storeunsafepopupmodule.storeSecret"),l=e,i=null,n=p.get("secretIdentifyingEnding"),t=e.publicKeyHex,storeunsafeIdLine.textContent=g.add0x(t),storeunsafeAsLine.textContent=g.idOrAlias(t)+n,u(),d.popupForContentElement(storeunsafePopup)},e.exports=h}).call(this)},2701:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y,m,v,w,b,E,S,x,B,C,I,A;I={name:"subspacepagemodule"},h=function(e){null!=allModules.debugmodule.modulesToDebug.subspacepagemodule&&console.log("[subspacepagemodule]: "+e)},y=function(e){return JSON.stringify(e,null,4)},g=function(e){return h("\n"+y(e))},n(7627),t=n(466),A=null,x=null,r=null,b=null,S=null,m=null,B=null,a=null,c=null,E=null,I.initialize=function(){h("subspacepagemodule.initialize"),A=allModules.utilsmodule,x=allModules.statemodule,r=allModules.idaliasmodule,b=allModules.clientstoremodule,S=allModules.slideinframemodule,m=allModules.qrdisplaymodule,allModules.editsecretpopupmodule,allModules.addsecretpopupmodule,allModules.deletesecretpopupmodule,B=allModules.storesecretpopupmodule,E=hiddenSecretTemplate.innerHTML,S.wireUp(subspacepageContent,o,i),copySharedFromIdButton.addEventListener("click",l),qrForSharedFromIdButton.addEventListener("click",v),copySharedToIdButton.addEventListener("click",u),qrForSharedToIdButton.addEventListener("click",w)},p=function(e){return e.parentElement.parentElement.getAttribute("secret-id")},s=async function(e){var t,n,r,i;h("copySecretButtonClicked"),i=x.get("chosenSubspaceId"),r=p(e.target),h(r),h(i);try{n=await a.client.getSecretFrom(r,i),A.copyToClipboard(n)}catch(e){t=e,msgBox.error("Failed to retrieve the shared Secret!"),h(t)}},C=function(e){var t,n,r;h("storeSecretButtonClicked"),r=p(e.target),n=x.get("chosenSubspaceId"),t=a.client,B.storeSharedSecret(t,n,r)},l=function(){var e;h("copySharedFromIdButtonClicked"),e=x.get("chosenSubspaceId"),A.copyToClipboard(e)},v=function(){var e;h("qrForSharedFromIdButtonClicked"),e=x.get("chosenSubspaceId"),m.displayCode(e)},u=function(){var e;h("copySharedToIdButtonClicked"),e=a.client.publicKeyHex,A.copyToClipboard(e)},w=function(){var e;h("qrForSharedToIdButtonClicked"),e=a.client.publicKeyHex,m.displayCode(e)},f=function(){var e,t;h("displayDetailsInformation"),t=a.client.publicKeyHex,sharedToIdLine.textContent=A.add0x(t),sharedToAlias.textContent=r.aliasFrom(t),e=x.get("chosenSubspaceId"),sharedFromIdLine.textContent=A.add0x(e),sharedFromAlias.textContent=r.aliasFrom(e)},d=function(){var e,n,r,i,o,a,l,u,d,f,p,g;for(h("displayCurrentSubspace"),e={},n="",i=0,u=(p=Object.keys(c)).length;i<u;i++)o=p[i],e.secretId=o,n+=t.render(E,e);for(sharedSecretsContainer.innerHTML=n||"<p>No Secret in this Subspace :-)</p>",a=0,d=(r=sharedSecretsContainer.getElementsByClassName("copy-secret-button")).length;a<d;a++)r[a].addEventListener("click",s);for(l=0,f=(g=sharedSecretsContainer.getElementsByClassName("store-secret-button")).length;l<f;l++)g[l].addEventListener("click",C)},o=function(){h("clearContent"),a=null,x.set("chosenSubspaceId",null),sharedSecretsContainer.innerHTML=""},i=function(){h("applyContent"),o()},I.slideOut=function(){h("subspacepagemodule.slideOut"),S.slideoutForContentElement(subspacepageContent)},I.slideIn=async function(){var e,t,n;if(h("subspacepagemodule.slideIn"),"number"!=typeof(t=x.get("chosenClientIndex")))throw new Error("chosenClientIndex was not a number!");a=b.clientByIndex(t),S.slideinForContentElement(subspacepageContent),n=await a.client.getSecretSpace(),e=x.get("chosenSubspaceId"),c=n[e],g(c),f(),d()},e.exports=I}).call(this)},9925:function(e,t,n){(function(){var t,r,i,o,a,s,l,u,c,d,f,p,h,g,y;g={name:"unsafeinputpagemodule"},u=function(e){null!=allModules.debugmodule.modulesToDebug.unsafeinputpagemodule&&console.log("[unsafeinputpagemodule]: "+e)},o=n(7627),y=null,h=null,a=null,r=null,p=null,c=null,l=null,g.initialize=function(){u("unsafeinputpagemodule.initialize"),y=allModules.utilsmodule,h=allModules.statemodule,a=allModules.clientstoremodule,r=allModules.autodetectkeysmodule,p=allModules.slideinframemodule,c=allModules.qrreadermodule,p.wireUp(unsafeinputpageContent,i,t),createUnsafeButton.addEventListener("click",s),scanQrButton.addEventListener("click",d),unsafeKeyInput.addEventListener("change",f)},s=async function(){var e,t,n;u("createUnsafeButtonClicked"),n=h.get("secretManagerURL");try{l=await o.createClient(null,null,n),t=y.add0x(l.secretKeyHex),e=y.add0x(l.publicKeyHex),unsafeKeyInput.value=t,unsafeIdLine.textContent=e}catch(e){u(e)}},d=async function(){var e,t,n,r;if(u("scanQrButtonClicked"),null!=(e=await c.read())){r=h.get("secretManagerURL");try{l=await o.createClient(e,null,r),n=y.add0x(l.secretKeyHex),t=y.add0x(l.publicKeyHex),unsafeKeyInput.value=n,unsafeIdLine.textContent=t}catch(e){u(e)}}},f=async function(){var e,t,n;u("secretInputChanged"),n=h.get("secretManagerURL"),t=y.strip0x(unsafeKeyInput.value);try{l=await o.createClient(t,null,n),t=y.add0x(l.secretKeyHex),e=y.add0x(l.publicKeyHex),unsafeKeyInput.value=t,unsafeIdLine.textContent=e}catch(e){u(e)}},i=function(){u("clearContent"),unsafeKeyInput.value="0xdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeef",unsafeIdLine.textContent="",l=null},t=function(){u("applyContent"),a.storeNewClient(l,"unsafe"),r.detectFor(l),i()},g.slideOut=function(){u("unsafeinputpagemodule.slideOut"),p.slideoutForContentElement(unsafeinputpageContent)},g.slideIn=function(){u("unsafeinputpagemodule.slideIn"),p.slideinForContentElement(unsafeinputpageContent)},e.exports=g}).call(this)},464:function(e,t,n){(function(){var t,r,i,o;o={name:"utilsmodule"},t=function(e){null!=allModules.debugmodule.modulesToDebug.utilsmodule&&console.log("[utilsmodule]: "+e)},i=n(2781),Object.assign(o,i),r=n(3826),o.add0x=function(e){if(null==e)throw new Error("add0x - undefined argument!");return"0"===e[0]&&"x"===e[1]?e:"0x"+e},o.strip0x=function(e){if(null==e)throw new Error("strip0x - undefined argument!");return"0"!==e[0]||"x"!==e[1]?e:e.slice(2)},o.idOrAlias=function(e){return allModules.idaliasmodule.aliasFrom(e)||o.add0x(e)},o.seedToKey=async function(e){var t,n;return t=await i.sha512Hex(e),n=2*parseInt(t[0],16),t.substr(n,64)},o.copyToClipboard=async function(e){var n;try{return await navigator.clipboard.writeText(e),t("Clipboard API succeeded"),void(null!=r&&r.info("Copied: "+e))}catch(e){t(e)}(n=document.createElement("textarea")).value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-99999px",document.body.appendChild(n),document.getSelection().removeAllRanges(),n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n),null!=r&&r.info("Copied: "+e)},e.exports=o}).call(this)},7420:()=>{},3707:()=>{},2781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{asymmetricDecrypt:()=>je,asymmetricDecryptBytes:()=>Ze,asymmetricDecryptHex:()=>We,asymmetricDecryptOld:()=>ze,asymmetricEncrypt:()=>qe,asymmetricEncryptBytes:()=>Ve,asymmetricEncryptHex:()=>$e,asymmetricEncryptOld:()=>Ke,createKeyPair:()=>be,createKeyPairBytes:()=>Ie,createKeyPairHex:()=>xe,createPublicKey:()=>Se,createPublicKeyBytes:()=>Le,createPublicKeyHex:()=>Ce,createRandomLengthSalt:()=>Ge,createSignature:()=>Te,createSignatureBytes:()=>Me,createSignatureHex:()=>ke,createSymKey:()=>Ee,createSymKeyBytes:()=>Ae,createSymKeyHex:()=>Be,removeSalt:()=>Je,sha256:()=>he,sha256Bytes:()=>ve,sha256Hex:()=>ye,sha512:()=>ge,sha512Bytes:()=>we,sha512Hex:()=>me,symmetricDecrypt:()=>Re,symmetricDecryptBytes:()=>De,symmetricDecryptHex:()=>Fe,symmetricEncrypt:()=>He,symmetricEncryptBytes:()=>Ne,symmetricEncryptHex:()=>Pe,verify:()=>Ue,verifyBytes:()=>_e,verifyHex:()=>Oe});var r=n(7420);const i=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(255),l=a**BigInt(252)+BigInt("27742317777372353535851937790883648493"),u={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:a**s-BigInt(19),l,n:l,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},c=a**BigInt(256),d=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),f=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),p=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),h=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),g=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class y{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof S))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(S.ZERO)?y.ZERO:new y(e.x,e.y,o,O(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=u.P){const n=new Array(e.length),r=M(e.reduce(((e,r,o)=>r===i?e:(n[o]=e,O(e*r,t))),o),t);return e.reduceRight(((e,r,o)=>r===i?e:(n[o]=O(e*n[o],t),O(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){m(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:a}=e,s=O(t*a),l=O(i*r),u=O(n*a),c=O(o*r);return s===l&&u===c}negate(){return new y(O(-this.x),this.y,this.z,O(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:r}=u,i=O(e**a),o=O(t**a),s=O(a*O(n**a)),l=O(r*i),c=O(O((e+t)**a)-i-o),d=l+o,f=d-s,p=l-o,h=O(c*f),g=O(d*p),m=O(c*p),v=O(f*d);return new y(h,g,v,m)}add(e){m(e);const{x:t,y:n,z:r,t:o}=this,{x:s,y:l,z:u,t:c}=e,d=O((n-t)*(l+s)),f=O((n+t)*(l-s)),p=O(f-d);if(p===i)return this.double();const h=O(r*a*c),g=O(o*a*u),v=g+h,w=f+d,b=g-h,E=O(v*p),S=O(w*b),x=O(v*b),B=O(p*w);return new y(E,S,B,x)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(y.BASE)&&(t=S.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&E.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=y.normalizeZ(r),E.set(t,r)));let i=y.ZERO,a=y.ZERO;const s=1+256/n,l=2**(n-1),u=BigInt(2**n-1),c=2**n,d=BigInt(n);for(let t=0;t<s;t++){const n=t*l;let s=Number(e&u);if(e>>=d,s>l&&(s-=c,e+=o),0===s){let e=r[n];t%2&&(e=e.negate()),a=a.add(e)}else{let e=r[n+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return y.normalizeZ([i,a])[0]}multiply(e,t){return this.wNAF(D(e,u.l),t)}multiplyUnsafe(e){let t=D(e,u.l,!1);const n=y.BASE,r=y.ZERO;if(t===i)return r;if(this.equals(r)||t===o)return this;if(this.equals(n))return this.wNAF(t);let a=r,s=this;for(;t>i;)t&o&&(a=a.add(s)),s=s.double(),t>>=o;return a}isSmallOrder(){return this.multiplyUnsafe(u.h).equals(y.ZERO)}isTorsionFree(){return this.multiplyUnsafe(u.l).equals(y.ZERO)}toAffine(e=M(this.z)){const{x:t,y:n,z:r}=this,i=O(t*e),a=O(n*e);if(O(r*e)!==o)throw new Error("invZ was invalid");return new S(i,a)}fromRistrettoBytes(){w()}toRistrettoBytes(){w()}fromRistrettoHash(){w()}}function m(e){if(!(e instanceof y))throw new TypeError("ExtendedPoint expected")}function v(e){if(!(e instanceof b))throw new TypeError("RistrettoPoint expected")}function w(){throw new Error("Legacy method: switch to RistrettoPoint")}y.BASE=new y(u.Gx,u.Gy,o,O(u.Gx*u.Gy)),y.ZERO=new y(i,o,o,i);class b{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=u,n=O(d*e*e),r=O((n+o)*h);let i=BigInt(-1);const a=O((i-t*n)*O(n+t));let{isValid:s,value:l}=R(r,a),c=O(l*e);T(c)||(c=O(-c)),s||(l=c),s||(i=n);const p=O(i*(n-o)*g-a),m=l*l,v=O((l+l)*a),w=O(p*f),b=O(o-m),E=O(o+m);return new y(O(v*E),O(b*w),O(w*E),O(v*b))}static hashToCurve(e){const t=k((e=N(e,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(t),r=k(e.slice(32,64)),i=this.calcElligatorRistrettoMap(r);return new b(n.add(i))}static fromHex(e){e=N(e,32);const{a:t,d:n}=u,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=k(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(L(a),e)||T(a))throw new Error(r);const s=O(a*a),l=O(o+t*s),c=O(o-t*s),d=O(l*l),f=O(c*c),p=O(t*n*d-f),{isValid:h,value:g}=P(O(p*f)),m=O(g*c),v=O(g*m*p);let w=O((a+a)*m);T(w)&&(w=O(-w));const E=O(l*v),S=O(w*E);if(!h||T(S)||E===i)throw new Error(r);return new b(new y(w,E,o,S))}toRawBytes(){let{x:e,y:t,z:n,t:r}=this.ep;const i=O(O(n+t)*O(n-t)),o=O(e*t),{value:s}=P(O(i*o**a)),l=O(s*i),u=O(s*o),c=O(l*u*r);let f;if(T(r*c)){let n=O(t*d),r=O(e*d);e=n,t=r,f=O(l*p)}else f=u;T(e*c)&&(t=O(-t));let h=O((n-t)*f);return T(h)&&(h=O(-h)),L(h)}toHex(){return C(this.toRawBytes())}toString(){return this.toHex()}equals(e){v(e);const t=this.ep,n=e.ep,r=O(t.x*n.y)===O(t.y*n.x),i=O(t.y*n.y)===O(t.x*n.x);return r||i}add(e){return v(e),new b(this.ep.add(e.ep))}subtract(e){return v(e),new b(this.ep.subtract(e.ep))}multiply(e){return new b(this.ep.multiply(e))}multiplyUnsafe(e){return new b(this.ep.multiplyUnsafe(e))}}b.BASE=new b(y.BASE),b.ZERO=new b(y.ZERO);const E=new WeakMap;class S{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}static fromHex(e,t=!0){const{d:n,P:r}=u,i=(e=N(e,32)).slice();i[31]=-129&e[31];const a=U(i);if(t&&a>=r)throw new Error("Expected 0 < hex < P");if(!t&&a>=c)throw new Error("Expected 0 < hex < 2**256");const s=O(a*a),l=O(s-o),d=O(n*s+o);let{isValid:f,value:p}=R(l,d);if(!f)throw new Error("Point.fromHex: invalid y coordinate");const h=(p&o)===o;return 0!=(128&e[31])!==h&&(p=O(-p)),new S(p,a)}static async fromPrivateKey(e){return(await z(e)).point}toRawBytes(){const e=L(this.y);return e[31]|=this.x&o?128:0,e}toHex(){return C(this.toRawBytes())}toX25519(){const{y:e}=this;return L(O((o+e)*M(o-e)))}isTorsionFree(){return y.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new S(O(-this.x),this.y)}add(e){return y.fromAffine(this).add(y.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return y.fromAffine(this).multiply(e,this).toAffine()}}S.BASE=new S(u.Gx,u.Gy),S.ZERO=new S(i,o);class x{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=N(e,64),n=S.fromHex(t.slice(0,32),!1),r=U(t.slice(32,64));return new x(n,r)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof S))throw new Error("Expected Point instance");return D(t,u.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(L(this.s),32),e}toHex(){return C(this.toRawBytes())}}const B=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=B[e[n]];return t}function I(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function A(e){return I(e.toString(16).padStart(64,"0"))}function L(e){return A(e).reverse()}function T(e){return(O(e)&o)===o}function U(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+C(Uint8Array.from(e).reverse()))}function k(e){return O(U(e)&a**s-o)}function O(e,t=u.P){const n=e%t;return n>=i?n:t+n}function M(e,t=u.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=O(e,t),r=t,a=i,s=o,l=o,c=i;for(;n!==i;){const e=r/n,t=r%n,i=a-l*e,o=s-c*e;r=n,n=t,a=l,s=c,l=i,c=o}if(r!==o)throw new Error("invert: does not exist");return O(a,t)}function _(e,t){const{P:n}=u;let r=e;for(;t-- >i;)r*=r,r%=n;return r}function H(e){const{P:t}=u,n=BigInt(5),r=BigInt(10),i=BigInt(20),s=BigInt(40),l=BigInt(80),c=e*e%t*e%t,d=_(c,a)*c%t,f=_(d,o)*e%t,p=_(f,n)*f%t,h=_(p,r)*p%t,g=_(h,i)*h%t,y=_(g,s)*g%t,m=_(y,l)*y%t,v=_(m,l)*y%t,w=_(v,r)*p%t;return{pow_p_5_8:_(w,a)*e%t,b2:c}}function R(e,t){const n=O(t*t*t),r=O(n*n*t);let i=O(e*n*H(e*r).pow_p_5_8);const o=O(t*i*i),a=i,s=O(i*d),l=o===e,u=o===O(-e),c=o===O(-e*d);return l&&(i=a),(u||c)&&(i=s),T(i)&&(i=O(-i)),{isValid:l||u,value:i}}function P(e){return R(o,e)}async function F(...e){return O(U(await J.sha512(function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}(...e))),u.l)}function N(e,t){const n=e instanceof Uint8Array?Uint8Array.from(e):I(e);if("number"==typeof t&&n.length!==t)throw new Error(`Expected ${t} bytes`);return n}function D(e,t,n=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(n){if(i<e)return e}else if(i<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function K(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}async function z(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?A(D(e,c)):N(e)).length)throw new Error("Expected 32 bytes");const t=await J.sha512(e),n=K(t.slice(0,32)),r=t.slice(32,64),i=O(U(n),u.l),o=S.BASE.multiply(i),a=o.toRawBytes();return{head:n,prefix:r,scalar:i,point:o,pointBytes:a}}async function q(e){return(await z(e)).pointBytes}async function j(e,t){e=N(e);const{prefix:n,scalar:r,pointBytes:i}=await z(t),o=await F(n,e),a=S.BASE.multiply(o),s=O(o+await F(a.toRawBytes(),i,e)*r,u.l);return new x(a,s).toRawBytes()}async function $(e,t,n){t=N(t),n instanceof S||(n=S.fromHex(n,!1));const{r,s:i}=e instanceof x?e.assertValidity():x.fromHex(e),o=y.BASE.multiplyUnsafe(i),a=await F(r.toRawBytes(),n.toRawBytes(),t),s=y.fromAffine(n).multiplyUnsafe(a);return y.fromAffine(r).add(s).subtract(o).multiplyUnsafe(u.h).equals(y.ZERO)}async function W(e,t){const{head:n}=await z(e),r=S.fromHex(t).toX25519();return Z.scalarMult(n,r)}function V(e,t,n){const r=O(e*(t-n));return[t=O(t-r),n=O(n+r)]}S.BASE._setWindowSize(8);const Z={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){const n=function(e,t){const{P:n}=u,r=D(e,n),s=D(t,n),l=BigInt(121665),c=r;let d,f=o,p=i,h=r,g=o,y=i;for(let e=BigInt(254);e>=i;e--){const t=s>>e&o;y^=t,d=V(y,f,h),f=d[0],h=d[1],d=V(y,p,g),p=d[0],g=d[1],y=t;const n=f+p,r=O(n*n),i=f-p,u=O(i*i),m=r-u,v=h+g,w=O((h-g)*n),b=O(v*i);h=O((w+b)**a),g=O(c*(w-b)**a),f=O(r*u),p=O(m*(r+O(l*m)))}d=V(y,f,h),f=d[0],h=d[1],d=V(y,p,g),p=d[0],g=d[1];const{pow_p_5_8:m,b2:v}=H(p),w=O(_(m,BigInt(3))*v);return O(f*w)}(function(e){const t=N(e,32);return t[31]&=127,U(t)}(t),U(K(N(e,32))));if(n===i)throw new Error("Invalid private or public key received");return L(O(n,u.P))},scalarMultBase:e=>Z.scalarMult(e,Z.BASE_POINT_U)},G={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},J={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:C,getExtendedPublicKey:z,mod:O,invert:M,hashToPrivateScalar:e=>{if((e=N(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=O(U(e),u.l);if(t===i||t===o)throw new Error("Invalid private key");return t},randomBytes:(e=32)=>{if(G.web)return G.web.getRandomValues(new Uint8Array(e));if(G.node){const{randomBytes:t}=G.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>J.randomBytes(32),sha512:async e=>{if(G.web){const t=await G.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(G.node)return Uint8Array.from(G.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=S.BASE){const n=t.equals(S.BASE)?t:new S(t.x,t.y);return n._setWindowSize(e),n.multiply(a),n}};var Q,Y,X,ee,te,ne,re;X=new TextEncoder("utf-8"),Y=new TextDecoder("utf-8"),re=new Array(256).fill(0),ne=re.map((function(e,t){return t.toString(16).padStart(2,"0")})),re.map((function(e,t){return BigInt(t)})),te=Array.from("0123456789abcdef"),ee={},te.forEach((function(e){return ee[e]=16*parseInt(e,16)})),Q={},te.forEach((function(e){return Q[e]=parseInt(e,16)}));var ie,oe,ae,se,le,ue,ce=function(e){return Y.decode(e)},de=function(e){return X.encode(e)},fe=function(e){var t,n,r,i,o;for(o="",r=0,i=(n=new Uint8Array(e)).length;r<i;r++)t=n[r],o+=ne[t];return o},pe=function(e){var t,n,r,i;for(i=new Uint8Array(e.length/2),t=n=0,r=e.length;n<r;t=n+=2)i[t/2]=ee[e[t]]+Q[e[t+1]];return i};se=window.crypto.subtle,ie=BigInt(2)**BigInt(252)+BigInt("27742317777372353535851937790883648493"),le=function(e){var t,n;return(n=new Uint8Array(e.slice(0,32)))[0]&=248,n[31]&=127,n[31]|=64,t=function(e){var t,n,r,i,o;for(o=0n,n=r=0,i=(e=new Uint8Array(e)).length;r<i;n=++r)t=e[n],o+=BigInt(t)<<8n*BigInt(n);return o}(n),ue(t)},ue=function(e,t=ie){var n;return(n=e%t)>=0n?n:n+t},ae=async function(e){var t;return t=pe(e),await se.importKey("raw",t,{name:"AES-CBC"},!1,["decrypt","encrypt"])},oe=async function(e){return await se.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt","encrypt"])};var he=async function(e){var t,n;return t="string"==typeof e?de(e):e,n=await se.digest("SHA-256",t),fe(n)},ge=async function(e){var t,n;return t="string"==typeof e?de(e):e,n=await se.digest("SHA-512",t),fe(n)},ye=he,me=ge,ve=async function(e){var t;return t="string"==typeof e?de(e):e,new Uint8Array(await se.digest("SHA-256",t))},we=async function(e){var t;return t="string"==typeof e?de(e):e,new Uint8Array(await se.digest("SHA-512",t))},be=async function(){var e,t;return t=J.randomPrivateKey(),e=await q(t),{secretKeyHex:fe(t),publicKeyHex:fe(e)}},Ee=function(){var e;return e=new Uint8Array(48),window.crypto.getRandomValues(e),fe(e)},Se=async function(e){var t;return t=await q(e),fe(t)},xe=be,Be=Ee,Ce=Se,Ie=async function(){var e;return{secretKeyBytes:e=J.randomPrivateKey(),publicKeyBytes:await q(e)}},Ae=function(){var e;return e=new Uint8Array(48),window.crypto.getRandomValues(e),e},Le=async function(e){return await q(e)},Te=async function(e,t){var n,r;return n=await ye(e),r=await j(n,t),fe(r)},Ue=async function(e,t,n){var r;return r=await ye(n),await $(e,r,t)},ke=Te,Oe=Ue,Me=async function(e,t){var n;return n=await ve(e),await j(n,t)},_e=async function(e,t,n){var r;return r=await ve(n),await $(e,r,t)},He=async function(e,t){var n,r,i,o,a,s,l;return s=t.substring(0,32),n=t.substring(32,96),a=pe(s),i=de(e),l=await ae(n),r={name:"AES-CBC",iv:a},o=await se.encrypt(r,l,i),fe(o)},Re=async function(e,t){var n,r,i,o,a,s,l;return s=t.substring(0,32),n=t.substring(32,96),a=pe(s),o=pe(e),l=await ae(n),r={name:"AES-CBC",iv:a},i=await se.decrypt(r,l,o),ce(i)},Pe=He,Fe=Re,Ne=async function(e,t){var n,r,i,o,a;return o=new Uint8Array(t.buffer,0,16),n=new Uint8Array(t.buffer,16,32),i=de(e),a=await oe(n),r={name:"AES-CBC",iv:o},await se.encrypt(r,a,i)},De=async function(e,t){var n,r,i,o,a;return o=new Uint8Array(t.buffer,0,16),n=new Uint8Array(t.buffer,16,32),a=await oe(n),r={name:"AES-CBC",iv:o},i=await se.decrypt(r,a,e),ce(i)},Ke=async function(e,t){var n,r,i,o,a,s,l,u;return r=S.fromHex(t),s=J.randomPrivateKey(),l=fe(s),a=le(await we(s)),n=await q(l),o=await r.multiply(a),u=await me(o.toHex()),i=await Pe(e,u),{referencePointHex:fe(n),encryptedContentHex:i}},ze=async function(e,t){var n,r,i,o,a,s,l;if(r=e.referencePointHex||e.referencePoint,o=e.encryptedContentHex||e.encryptedContent,null==r||null==o)throw new Error("Invalid secrets Object!");return i=pe(t),s=le(await we(i)),n=S.fromHex(r),a=await n.multiply(s),l=await me(a.toHex()),await Fe(o,l)},qe=async function(e,t){var n,r,i,o,a;return o=J.randomPrivateKey(),n=await q(o),i=await W(o,t),a=await we(i),r=await Ne(e,a),{referencePointHex:fe(n),encryptedContentHex:fe(r)}},je=async function(e,t){var n,r,i,o,a;if(n=e.referencePointHex||e.referencePoint,i=e.encryptedContentHex||e.encryptedContent,null==n||null==i)throw new Error("Invalid secrets Object!");return o=await W(t,n),a=await we(o),r=pe(i),await De(r,a)},$e=qe,We=je,Ve=async function(e,t){var n,r,i,o;return i=J.randomPrivateKey(),n=await q(i),r=await W(i,t),o=await we(r),{referencePointBytes:n,encryptedContentBytes:await Ne(e,o)}},Ze=async function(e,t){var n,r,i,o;if(n=e.referencePointBytes||e.referencePoint,r=e.encryptedContentBytes||e.encryptedContent,null==n||null==r)throw new Error("Invalid secrets Object!");return i=await W(t,n),o=await we(i),await De(r,o)},Ge=function(){var e,t,n,r;for(e=new Uint8Array(512);;)for(window.crypto.getRandomValues(e),t=n=0,r=e.length;n<r;t=++n)if(0===e[t])return ce(e.slice(0,t+1))},Je=function(e){var t,n,r;for(t=n=0,r=e.length;n<r;t=++n)if("\0"===e[t])return e.slice(t+1);throw new Error("No Salt termination found!")}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="secret-cockpit:",i.l=(n,r,o,a)=>{if(e[n])e[n].push(r);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="",(()=>{var e={826:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,s,l]=n,u=0;if(a.some((t=>0!==e[t]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);l&&l(i)}for(t&&t(n);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunksecret_cockpit=self.webpackChunksecret_cockpit||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{popupForContentElement:()=>H,wireUp:()=>R});var t={};i.r(t),i.d(t,{initialize:()=>K,slideIn:()=>W,slideOut:()=>$});var n={};i.r(n),i.d(n,{addAlias:()=>Y,initialize:()=>V});var r={};i.r(r),i.d(r,{addSecret:()=>ue,initialize:()=>ee});var o={};i.r(o),i.d(o,{addSubspace:()=>fe});var a={};i.r(a),i.d(a,{startUp:()=>we});var s={};i.r(s),i.d(s,{detectFor:()=>Ie});var l={};i.r(l),i.d(l,{initialize:()=>Ae});var u={};i.r(u),i.d(u,{default:()=>Le});var c={};i.r(c),i.d(c,{modulesToDebug:()=>Te});var d={};i.r(d),i.d(d,{initialize:()=>Fe});var f,p,h={};i.r(h),i.d(h,{initialize:()=>Je,read:()=>Qe}),p=function(e){return JSON.stringify(e,null,4)},f={};var g,y,m,v,w,b,E,S,x=function(e){var t,n;return n=function(e){return t("\n"+p(e))},{log:t=function(t){f[e]&&console.log("["+e+"]: "+t)},olog:n}},B=i(464),C=i(543);({log:b,olog:E}=x("popupmodule")),S=function(e){b("popup"),e.classList.add("active")},g=function(e){b("disappear"),e.classList.remove("active")},w=function(e){return b("getPopupFrameForContentElement"),e.parentElement.parentElement},y=function(e){return b("getGoButtonForContentElement"),e.parentElement.parentElement.getElementsByClassName("popup-accept-button")[0]},v=function(e){return b("getClickCatcherForContentElement"),e.parentElement.parentElement.getElementsByClassName("click-catcher")[0]},m=function(e){return b("getCloseButtonForContentElement"),e.parentElement.parentElement.getElementsByClassName("popup-cancel-button")[0]};var I,A,L,T,U,k,O,M,_,H=function(e){var t;b("popupmodule.popupForContentElement"),t=w(e),S(t)},R=function(e,t){var n,r,i,o,a,s;b("popupmodule.popupForContentElement"),s=w(e),n=y(e),a=v(e),i=m(e),o=function(){g(s)},r=function(){t(),g(s)},n.addEventListener("click",r),i.addEventListener("click",o),a.addEventListener("click",o)},P=i(466),F=i.n(P),N=i(4981),D=i(1988);({log:k,olog:O}=x("aliaspagemodule")),A=null;var K=function(){k("initialize"),A=hiddenAliasTemplate.innerHTML,D.wireUp(aliaspageContent,T,L),addAliasButton.addEventListener("click",I)};M=function(){var e,t,n,r,i,o,a,s,l;for(k("syncAliasesFromState"),i="",r=N.get("clientsList"),s=C.getAllIds(),null==r?t=s:(e={},r.forEach((function(t){return e[t.client.publicKeyHex]=!0})),s.forEach((function(t){return e[t]=!0})),t=Object.keys(e)),n={},o=0,l=t.length;o<l;o++)a=t[o],n.id=B.add0x(a),n.alias=C.aliasFrom(a),null==n.alias&&(n.alias=""),i+=F().render(A,n);aliasContainer.innerHTML=i||"<p>No Ids available yet :-)</p>"},U=function(e){return{id:B.strip0x(e.getAttribute("alias-id")),alias:e.getElementsByClassName("alias-label")[0].textContent}},_=function(){var e,t;k("syncAliasesToState"),t=aliasContainer.getElementsByClassName("alias"),e=Array.from(t,U),C.applyAliases(e)},I=function(){k("addAliasButtonClicked"),Y()},T=function(){k("clearContent")},L=function(){k("applyContent"),_()};var z,q,j,$=function(){k("aliaspagemodule.slideOut"),D.slideoutForContentElement(aliaspageContent)},W=function(){k("aliaspagemodule.slideIn"),M(),D.slideinForContentElement(aliaspageContent)};({log:q,olog:j}=x("addaliaspopupmodule"));var V=function(){q("initialize"),R(addaliasPopup,z)};z=function(){var e,t;q("applyAdd"),t=addAliasIdLine.textContent,null!=(e=addAliasLine.textContent)&&e.length&&null!=t&&t.length&&(t=B.strip0x(t),C.updateAlias(e,t),W())};var Z,G,J,Q,Y=function(){q("addaliaspopupmodule.addSecret"),addAliasIdLine.textContent="",addAliasLine.textContent="",H(addaliasPopup)},X=i(3551);({log:J,olog:Q}=x("addsecretpopupmodule")),G=null;var ee=function(){J("initialize"),R(addsecretPopup,Z)};Z=async function(){var e,t;J("applyAdd"),(t=addSecretIdLine.textContent)&&(e=addSecretLine.textContent,await G.setSecret(t,e),X.slideIn())};var te,ne,re,ie,oe,ae,se,le,ue=function(e){J("addSecret"),G=e,addSecretIdLine.textContent="",addSecretLine.textContent="",H(addsecretPopup)};({log:ae,olog:se}=x("addsubspacepopupmodule")),ie=null,te=null,ne=null,oe=function(){var e,t,n,r,i,o,a,s,l;if(ae("displayOptions"),addsubspaceId.value="",l="",null!=(t=N.get("clientsList"))){for(e={},n=r=0,o=t.length;r<o;n=++r)s=t[n],e.index=n,e.type=s.type,e.label=B.idOrAlias(s.client.publicKeyHex),l+=F().render(null,e);for(easyAddOptionsContainer.innerHTML=l||"<p>No Easy Click Options!</p>",i=0,a=(ne=easyAddOptionsContainer.getElementsByClassName("clients-display")).length;i<a;i++)ne[i].addEventListener("click",re)}},re=function(e){ae("clientOptionClicked"),le(e.target)},le=function(e){var t,n,r;for(ae("selectClientFor"),n=0,r=ne.length;n<r;n++)(t=ne[n]).classList.remove("selected");null!=e&&(te=parseInt(e.getAttribute("list-index")),e.classList.add("selected"),t=N.get("clientsList")[te].client,addsubspaceId.value=B.add0x(t.publicKeyHex))};var ce,de,fe=function(e){ae("addsubspacepopupmodule.addSubspace"),ie=e,oe(),H(addsubspacePopup)},pe=i(7627),he=i(844);({log:ce,olog:de}=x("appcoremodule"));var ge,ye,me,ve,we=async function(){ce("appcoremodule.startUp")};({log:me,olog:ve}=x("autodetectkeysmodule")),ge=null,ye=async function(e){var t,n,r,i,o,a;me("importKeyForLabel"),a=N.get("secretManagerURL");try{o=await ge.getSecret(e),o=B.strip0x(o),n=await pe.createClient(o,null,a),he.storeNewClient(n,"unsafe"),i=N.get("secretIdentifyingEnding"),r=n.publicKeyHex,t=e.slice(0,-i.length),me(t),null!=C.aliasFrom(r)||C.idFrom(t)||C.updateAlias(t,r)}catch(e){me(e)}};var be,Ee,Se,xe,Be,Ce,Ie=async function(e){var t,n,r,i,o,a;if(me("detectFor"),N.get("autodetectStoredSecrets"))try{ge=e,t=N.get("secretIdentifyingEnding"),a=await e.getSecretSpace(),i=Object.keys(a),me(i),n=i.filter((function(e){return e.endsWith(t)})),me(n),o=function(){var e,t,i;for(i=[],e=0,t=n.length;e<t;e++)r=n[e],i.push(ye(r));return i}(),await Promise.all(o)}catch(e){me(e)}};({log:xe,olog:Be}=x("clientsdisplaymodule")),Ce=null;var Ae=function(){xe("clientsdisplaymodule.initialize"),Ce=hiddenClientsDisplayTemplate.innerHTML,Se(),N.addOnChangeListener("aliasToId",Se),N.addOnChangeListener("clientsList",Se),aliasPageButton.addEventListener("click",be)};Se=function(){var e,t,n,r,i,o,a,s,l,u;if(xe("displayAllKnownClients"),null!=(n=N.get("clientsList"))){for(e={},r="",i=o=0,s=n.length;o<s;i=++o)u=n[i],e.index=i,e.type=u.type,e.label=B.idOrAlias(u.client.publicKeyHex),r+=F().render(Ce,e);for(clientsDisplayContainer.innerHTML=r||"<p>No Known Account here :-)</p>",a=0,l=(t=clientsDisplayContainer.getElementsByClassName("clients-display")).length;a<l;a++)t[a].addEventListener("click",Ee)}},be=function(){xe("aliasPageButtonClicked"),allModules.aliaspagemodule.slideIn()},Ee=function(e){var t;xe("clientDisplayClicked"),t=parseInt(e.target.getAttribute("list-index")),N.set("chosenClientIndex",t),allModules.secretspacepagemodule.slideIn()};const Le={name:"configmodule"};var Te={unbreaker:!0};!function(e){var t;for(t in e)e[t]&&(f[t]=!0)}(Te);var Ue,ke,Oe=i(623),Me=i(4555),_e=i(8098),He=i(2929),Re=i(317),Pe=i(9416);({log:Ue,olog:ke}=x("inputchoicesectionmodule"));var Fe=function(){var e,t;Ue("initialize"),t=allModules.unsafeinputpagemodule,e=allModules.floatinginputpagemodule,inputUnsafeButton.addEventListener("click",t.slideIn),inputFloatingButton.addEventListener("click",e.slideIn)},Ne=i(3826),De=i(3929);class Ke{constructor(e,t,n,r,i){this._legacyCanvasSize=Ke.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),n&&"object"==typeof n?this._onDecode=t:(n||r||i?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t="object"==typeof n?n:{},this._onDecodeError=t.onDecodeError||("function"==typeof n?n:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof r?r:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize="number"==typeof n?n:"number"==typeof r?r:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let o=!1;if(e.hidden&&(e.hidden=!1,o=!0),document.body.contains(e)||(document.body.appendChild(e),o=!0),n=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(r=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(i=this.$overlay.style).position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!r&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}n.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame((()=>{let t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),o=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),o=!0),o&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()})),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=Ke.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await Ke.listCameras(!1)).length}catch(e){return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t,n=async()=>(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind));try{e&&(await n()).every((e=>!e.label))&&(t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await n()).map(((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":`Camera ${t+1}`)})))}finally{t&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),Ke._stopVideoStream(t))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),Ke._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),Ke._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?Ke._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch((()=>{}))))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(Ke._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise((e=>setTimeout(e,300))),!!this._paused&&(t(),!0))}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,n,r,i=!1,o=!1){let a,s=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(a=t.scanRegion,n=t.qrEngine,r=t.canvas,i=t.disallowCanvasResizing||!1,o=t.alsoTryWithoutScanRegion||!1,s=!0):t||n||r||i||o?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!n;try{let l,u,c;if([n,l]=await Promise.all([n||Ke.createQrEngine(),Ke._loadImage(e)]),[r,u]=Ke._drawToCanvas(l,a,r,i),n instanceof Worker){let e=n;t||Ke._postWorkerMessageSync(e,"inversionMode","both"),c=await new Promise(((t,n)=>{let i,o,s,l=-1;o=r=>{r.data.id===l&&(e.removeEventListener("message",o),e.removeEventListener("error",s),clearTimeout(i),null!==r.data.data?t({data:r.data.data,cornerPoints:Ke._convertPoints(r.data.cornerPoints,a)}):n(Ke.NO_QR_CODE_FOUND))},s=t=>{e.removeEventListener("message",o),e.removeEventListener("error",s),clearTimeout(i),n("Scanner error: "+(t?t.message||t:"Unknown Error"))},e.addEventListener("message",o),e.addEventListener("error",s),i=setTimeout((()=>s("timeout")),1e4);let c=u.getImageData(0,0,r.width,r.height);l=Ke._postWorkerMessageSync(e,"decode",c,[c.data.buffer])}))}else c=await Promise.race([new Promise(((e,t)=>window.setTimeout((()=>t("Scanner error: timeout")),1e4))),(async()=>{try{var[t]=await n.detect(r);if(!t)throw Ke.NO_QR_CODE_FOUND;return{data:t.rawValue,cornerPoints:Ke._convertPoints(t.cornerPoints,a)}}catch(n){if(t=n.message||n,/not implemented|service unavailable/.test(t))return Ke._disableBarcodeDetector=!0,Ke.scanImage(e,{scanRegion:a,canvas:r,disallowCanvasResizing:i,alsoTryWithoutScanRegion:o});throw`Scanner error: ${t}`}})()]);return s?c:c.data}catch(t){if(!a||!o)throw t;let l=await Ke.scanImage(e,{qrEngine:n,canvas:r,disallowCanvasResizing:i});return s?l:l.data}finally{t||Ke._postWorkerMessage(n,"close")}}setGrayscaleWeights(e,t,n,r=!0){Ke._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:n,useIntegerApproximation:r})}setInversionMode(e){Ke._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!Ke._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):i.e(126).then(i.bind(i,1126)).then((e=>e.createWorker()))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame((()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,n=e.videoHeight,r=e.offsetWidth,i=e.offsetHeight,o=e.offsetLeft,a=e.offsetTop,s=window.getComputedStyle(e),l=s.objectFit,u=t/n,c=r/i;switch(l){case"none":var d=t,f=n;break;case"fill":d=r,f=i;break;default:("cover"===l?u>c:u<c)?d=(f=i)*u:f=(d=r)/u,"scale-down"===l&&(d=Math.min(d,t),f=Math.min(f,n))}var[p,h]=s.objectPosition.split(" ").map(((e,t)=>{const n=parseFloat(e);return e.endsWith("%")?(t?i-f:r-d)*n/100:n}));s=this._scanRegion.width||t,c=this._scanRegion.height||n,l=this._scanRegion.x||0;var g=this._scanRegion.y||0;(u=this.$overlay.style).width=s/t*d+"px",u.height=c/n*f+"px",u.top=`${a+h+g/n*f}px`,n=/scaleX\(-1\)/.test(e.style.transform),u.left=`${o+(n?r-p-d:p)+(n?t-l-s:l)/t*d}px`,u.transform=e.style.transform}}))}static _convertPoints(e,t){if(!t)return e;let n=t.x||0,r=t.y||0,i=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let o of e)o.x=o.x*i+n,o.y=o.y*t+r;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise((n=>setTimeout(n,t-e))),this._lastScanTimestamp=Date.now();try{var n=await Ke.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!Ke._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=Ke.createQrEngine()),n?(this._onDecode?this._onDecode(n):this._legacyOnDecode&&this._legacyOnDecode(n.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",n.cornerPoints.map((({x:e,y:t})=>`${e},${t}`)).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout((()=>this.$codeOutlineHighlight.style.display="none"),100))}this._scanFrame()}))}_onDecodeError(e){e!==Ke.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],n=t.map((t=>Object.assign({},t,{[e]:{exact:this._preferredCamera}})));for(let e of[...n,...t])try{let t=await navigator.mediaDevices.getUserMedia({video:e,audio:!1});return{stream:t,facingMode:this._getFacingMode(t)||(e.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,n,r=!1){n=n||document.createElement("canvas");let i=t&&t.x?t.x:0,o=t&&t.y?t.y:0,a=t&&t.width?t.width:e.videoWidth||e.width,s=t&&t.height?t.height:e.videoHeight||e.height;return r||(r=t&&t.downScaledWidth?t.downScaledWidth:a,t=t&&t.downScaledHeight?t.downScaledHeight:s,n.width!==r&&(n.width=r),n.height!==t&&(n.height=t)),(t=n.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,i,o,a,s,0,0,n.width,n.height),[n,t]}static async _loadImage(e){if(e instanceof Image)return await Ke._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(!(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e))throw"Unsupported image type.";{let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await Ke._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}}static async _awaitImageLoad(e){e.complete&&0!==e.naturalWidth||await new Promise(((t,n)=>{let r=i=>{e.removeEventListener("load",r),e.removeEventListener("error",r),i instanceof ErrorEvent?n("Image load error"):t()};e.addEventListener("load",r),e.addEventListener("error",r)}))}static async _postWorkerMessage(e,t,n,r){return Ke._postWorkerMessageSync(await e,t,n,r)}static _postWorkerMessageSync(e,t,n,r){if(!(e instanceof Worker))return-1;let i=Ke._workerMessageId++;return e.postMessage({id:i,type:t,data:n},r),i}}Ke.DEFAULT_CANVAS_SIZE=400,Ke.NO_QR_CODE_FOUND="No QR code found",Ke._disableBarcodeDetector=!1,Ke._workerMessageId=0;const ze=Ke;var qe,je,$e,We,Ve,Ze,Ge;({log:Ve,olog:Ze}=x("qrreadermodule")),qe=null,je=null,We=!1;var Je=async function(){Ve("qrreadermodule.initialize"),We=await ze.hasCamera(),Ve(We),We&&(qe=new ze(qrreaderVideoElement,$e,{maxScansPerSecond:5,highlightCodeOutline:!0}),qrreaderBackground.addEventListener("click",Ge))};$e=function(e){return Ve("dataRead"),e=e.data,Ve(e.length),Ze(e),64===e.length&&null!=je?(je(e),je=null,qe.stop(),void qrreaderBackground.classList.remove("active")):66===e.length&&null!=je&&"0"===e[0]&&"x"===e[1]?(e=B.strip0x(e),je(e),je=null,qe.stop(),void qrreaderBackground.classList.remove("active")):void Ne.error("Unknown Format!")},Ge=function(){Ve("readerClicked"),qe.stop(),null!=je&&je(null),je=null,qrreaderBackground.classList.remove("active")};var Qe=function(){if(Ve("qrreadermodule.read"),We)return qe.start(),qrreaderBackground.classList.add("active"),new Promise((function(e){return je=e}));Ne.error("We don't have a Camera!")},Ye=i(319),Xe=i(8753),et=i(535),tt=i(7077),nt=i(5943),rt=i(4286),it=i(3527),ot=i(2701),at=i(9925);const st={addaliaspopupmodule:n,addsecretpopupmodule:r,addsubspacepopupmodule:o,aliaspagemodule:t,appcoremodule:a,autodetectkeysmodule:s,clientsdisplaymodule:l,clientstoremodule:he,configmodule:u,debugmodule:c,deletesecretpopupmodule:Oe,deletesubspacepopupmodule:Me,editsecretpopupmodule:_e,floatinginputpagemodule:He,footermodule:Re,headermodule:Pe,idaliasmodule:C,inputchoicesectionmodule:d,messageboxmodule:Ne,popupmodule:e,qrdisplaymodule:De,qrreadermodule:h,removeclientpopupmodule:Ye,secretspacedisplaymodule:Xe,secretspacepagemodule:X,settingspagemodule:et,sharesecretpopupmodule:tt,slideinframemodule:D,statemodule:N,storeidpopupmodule:nt,storesecretpopupmodule:rt,storeunsafepopupmodule:it,subspacepagemodule:ot,unsafeinputpagemodule:at,utilsmodule:B};var lt,ut=i(1062);i.n(ut)().initialize(),i.g.allModules=st,lt=function(){st.appcoremodule.startUp()},async function(){var e,t,n;n=function(){var n;for(t in n=[],st)null!=(e=st[t]).initialize&&n.push(e.initialize());return n}(),await Promise.all(n),lt()}()})()})();</script></body></html>